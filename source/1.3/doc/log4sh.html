<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>log4sh</title><link rel="stylesheet" href="style.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.68.1"><meta name="description" content='log4sh is a logging framework for shell scripts that works similar to the other wonderful logging products available from the Apache Software Foundataion (eg. log4j, log4perl). Although not as powerful as the others, it can make the task of adding advanced logging to shell scripts easier.  It has much more power than just using simple "echo" commands throughout.  In addition, it can be configured from a properties file so that scripts in a production environment do not need to be altered to change the amount of logging they produce.'></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="book" lang="en-US"><div class="titlepage"><div><div><h1 class="title"><a name="log4sh"></a>log4sh</h1></div><div><div class="authorgroup"><div class="author"><h3 class="author"><span class="firstname">Kate</span> <span class="surname">Ward</span></h3><div class="affiliation"><div class="address"><p><br>
            <code class="email">&lt;<a href="mailto:kate.ward@forestent.com">kate.ward@forestent.com</a>&gt;</code><br>
          </p></div></div></div></div></div><div><p class="pubdate">2006-08-15</p></div><div><div class="revhistory"><table border="1" width="100%" summary="Revision history"><tr><th align="left" valign="top" colspan="3"><b>Revision History</b></th></tr><tr><td align="left">Revision 1.3.5</td><td align="left">2006-04-22</td><td align="left">kwd</td></tr><tr><td align="left">Revision 1.3.4</td><td align="left">2006-03-25</td><td align="left">kwd</td></tr><tr><td align="left">Revision 1.3.3</td><td align="left">2006-02-11</td><td align="left">kwd</td></tr><tr><td align="left">Revision 1.3.2</td><td align="left">2006-01-18</td><td align="left">kwd</td></tr><tr><td align="left">Revision 1.3.0</td><td align="left">2005-08-15</td><td align="left">kwd</td></tr><tr><td align="left">Revision 1.2.6</td><td align="left">2005-02-01</td><td align="left">kwd</td></tr><tr><td align="left">Revision 1.2.4</td><td align="left">2004-12-28</td><td align="left">kwd</td></tr></table></div></div><div><div class="abstract"><p class="title"><b>Abstract</b></p><p>log4sh is a logging framework for shell scripts that works similar to the other wonderful <a href="http://logging.apache.org/" target="_top">logging products</a> available from the <a href="http://www.apache.org/" target="_top">Apache Software Foundataion</a> (eg. log4j, log4perl). Although not as powerful as the others, it can make the task of adding advanced logging to shell scripts easier.  It has much more power than just using simple "echo" commands throughout.  In addition, it can be configured from a properties file so that scripts in a production environment do not need to be altered to change the amount of logging they produce.</p></div></div></div><hr></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="chapter"><a href="#intro">1. Introduction</a></span></dt><dd><dl><dt><span class="section"><a href="#credits">1. Credits / Contributors</a></span></dt><dt><span class="section"><a href="#feedback">2. Feedback</a></span></dt></dl></dd><dt><span class="chapter"><a href="#quickstart">2. Quickstart</a></span></dt><dt><span class="chapter"><a href="#usage">3. Usage Guide</a></span></dt><dd><dl><dt><span class="section"><a href="#usage-preconfigure">1. Preconfigure log4sh (optional)</a></span></dt><dt><span class="section"><a href="#usage-source">2. Source log4sh</a></span></dt><dt><span class="section"><a href="#usage-code">3. Configure log4sh in code</a></span></dt><dt><span class="section"><a href="#usage-logging">4. Logging with log4sh</a></span></dt></dl></dd><dt><span class="chapter"><a href="#configuration">4. Configuration</a></span></dt><dd><dl><dt><span class="section"><a href="#properties_file">1. Properties File</a></span></dt><dd><dl><dt><span class="section"><a href="#properties-root_logger">1.1. Root Logger</a></span></dt><dt><span class="section"><a href="#levels">1.2. Levels</a></span></dt><dt><span class="section"><a href="#appenders">1.3. Appenders</a></span></dt></dl></dd><dt><span class="section"><a href="#env_vars">2. Environment Variables</a></span></dt></dl></dd><dt><span class="chapter"><a href="#shelldoc">5. Function Reference</a></span></dt><dd><dl><dt><span class="section"><a href="#id2508544">1. Appenders</a></span></dt><dt><span class="section"><a href="#id2510503">2. FileAppender</a></span></dt><dt><span class="section"><a href="#id2510890">3. Levels</a></span></dt><dt><span class="section"><a href="#id2511009">4. Logger</a></span></dt><dt><span class="section"><a href="#id2511407">5. PatternLayout</a></span></dt><dt><span class="section"><a href="#id2511481">6. SMTPAppender</a></span></dt><dt><span class="section"><a href="#id2511842">7. SyslogAppender</a></span></dt><dt><span class="section"><a href="#id2512376">8. Threads</a></span></dt><dt><span class="section"><a href="#id2512602">9. arrays</a></span></dt><dt><span class="section"><a href="#id2513032">10. miscellaneous</a></span></dt><dt><span class="section"><a href="#id2513313">11. properties</a></span></dt></dl></dd><dt><span class="chapter"><a href="#conclusion">6. Conclusion</a></span></dt></dl></div><div class="list-of-tables"><p><b>List of Tables</b></p><dl><dt>4.1. <a href="#id2507088">Logging Levels (from most output to least)</a></dt><dt>4.2. <a href="#id2507270">Appender Types</a></dt><dt>4.3. <a href="#id2507406">Appender Options</a></dt><dt>4.4. <a href="#id2507526">Layouts</a></dt><dt>4.5. <a href="#id2507614">Pattern Options</a></dt><dt>4.6. <a href="#id2507943">log4sh environment variables</a></dt><dt>5.1. <a href="#id2508549">Appenders</a></dt><dt>5.2. <a href="#id2510509">FileAppender</a></dt><dt>5.3. <a href="#id2510896">Levels</a></dt><dt>5.4. <a href="#id2511015">Logger</a></dt><dt>5.5. <a href="#id2511412">PatternLayout</a></dt><dt>5.6. <a href="#id2511486">SMTPAppender</a></dt><dt>5.7. <a href="#id2511848">SyslogAppender</a></dt><dt>5.8. <a href="#id2512382">Threads</a></dt><dt>5.9. <a href="#id2512608">arrays</a></dt><dt>5.10. <a href="#id2513037">miscellaneous</a></dt><dt>5.11. <a href="#id2513318">properties</a></dt></dl></div><div class="list-of-examples"><p><b>List of Examples</b></p><dl><dt>2.1. <a href="#id2454930">Hello, World!</a></dt><dt>2.2. <a href="#id2467856">Properties Configuration Test</a></dt><dt>2.3. <a href="#id2467938">Runtime Configuration Test</a></dt><dt>3.1. <a href="#id2468356">Sourcing external shell code into current program</a></dt><dt>3.2. <a href="#id2468384">Hello, world (using properties file)</a></dt><dt>3.3. <a href="#id2506492">Hello, world; properties file</a></dt><dt>3.4. <a href="#id2506548">Hello, world (configured in code)</a></dt><dt>3.5. <a href="#id2506596">Standard method of logging a message</a></dt><dt>3.6. <a href="#id2506630">Alternate method of logging a message</a></dt><dt>4.1. <a href="#id2468056">Recommended minimum log4sh.properties file</a></dt><dt>4.2. <a href="#id2507234">Sample appender names</a></dt><dt>4.3. <a href="#id2507259">Setting an appender type</a></dt><dt>4.4. <a href="#id2507394">Setting an appender option</a></dt><dt>4.5. <a href="#id2507514">Setting an appender's layout</a></dt><dt>4.6. <a href="#id2507600">Setting an appender's layout pattern</a></dt><dt>4.7. <a href="#id2507984">LOG4SH_CONFIGURATION variable</a></dt><dt>4.8. <a href="#id2508016">LOG4SH_CONFIG_PREFIX variable</a></dt></dl></div><div class="chapter" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a name="intro"></a>Chapter 1. Introduction</h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="#credits">1. Credits / Contributors</a></span></dt><dt><span class="section"><a href="#feedback">2. Feedback</a></span></dt></dl></div><p>Log4sh has been developed under the Bourne Again Shell (<span><strong class="command">bash</strong></span>) on Linux, but great care has been taken to make sure it works under the default Bourne Shell of Solaris (<span><strong class="command">sh</strong></span>) as this happens to be the primary platform used by myself.</p><div class="blockquote"><blockquote class="blockquote"><div class="blockquote-title"><p><b>Tested Operating Systems</b></p></div><div class="itemizedlist"><ul type="disc"><li><p>Cygwin</p></li><li><p>FreeBSD</p></li><li><p>Linux</p></li><li><p>Solaris 8, 9, 10</p></li></ul></div></blockquote></div><div class="blockquote"><blockquote class="blockquote"><div class="blockquote-title"><p><b>Tested Shells</b></p></div><div class="itemizedlist"><ul type="disc"><li><p>Bourne Shell (<span><strong class="command">sh</strong></span>)</p></li><li><p>Bourne Again Shell (<span><strong class="command">bash</strong></span>)</p></li><li><p>Korn Shell (<span><strong class="command">ksh</strong></span>, <span><strong class="command">pdksh</strong></span>)</p></li></ul></div></blockquote></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="credits"></a>1. Credits / Contributors</h2></div></div></div><p>A list of contributors to <span><strong class="command">log4sh</strong></span> can be found in the source archive as <code class="filename">doc/contributors.txt</code>.  I want to personally thank all those who have contributed to make this a better tool.</p></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="feedback"></a>2. Feedback</h2></div></div></div><p>Feedback is most certainly welcome for this document. Send your additions, comments and criticisms to the following email address: <code class="email">&lt;<a href="mailto:kate.ward@forestent.com">kate.ward@forestent.com</a>&gt;</code>.</p></div></div><div class="chapter" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a name="quickstart"></a>Chapter 2. Quickstart</h2></div></div></div><p>First things first.  Go to the directory from which you extracted the log4sh software.  In there, you should find a <code class="filename">Makefile</code>.  If you find one, you are in the right place.  We need to setup the environment for running tests, so from this directory, execute the <span><strong class="command">make test-prep</strong></span> command as shown below.  Once this is done, a <code class="filename">test</code> directory will be created and prepared with everything needed to run the log4sh tests.</p><p>Prepare your environment.</p><pre class="screen">
$ make test-prep
$ cd test
</pre><div class="example"><a name="id2454930"></a><p class="title"><b>Example 2.1. Hello, World!</b></p><p>Ok.  What kind of a quickstart would this be if the first example wasn't a "Hello, World!" example?  Who knows, but this isn't one of those kind of quickstarts.</p><p>Run the Hello World test.</p><pre class="screen">
$ ./test-hello_world
0 [main] INFO shell  - Hello, world!
</pre><p>You should have seen output similar to that above.  If not, make sure you are in the right location and such.  If you really had problems, please send a letter to the log4sh maintainers.  Who knows, maybe you already found a bug.  Hopefully not!</p><p>The Hello, World! test is about as simple as it gets.  If you take a look at the test, all it does is load <code class="filename">log4sh</code>, reset the default logging level from <code class="option">ERROR</code> to <code class="option">INFO</code>, and the logs a message.  As you can see, it didn't take much to setup and use log4sh.</p></div><div class="example"><a name="id2467856"></a><p class="title"><b>Example 2.2. Properties Configuration Test</b></p><p>In this example, a <code class="filename">log4sh.properties</code> configuraiton file will be used to pre-configure log4sh before any logging messages are output.  It demonstrates that a configuration file can be used to alter the behavior of log4sh without having to change any shell code.</p><p>Run the properties configuration test.</p><pre class="screen">
$ ./test-prop-config
INFO - We are the Simpsons!
INFO - Mmmmmm .... Chocolate.
INFO - Homer likes chocolate
...
</pre><p>You should see much more output on your terminal that what was listed above.  What is actually happening is log4sh is outputting information to STDERR using logging statements that were stored in the <code class="filename">test-common</code> script.  In addition, there were multiple logfiles generated (take a look in the <code class="filename">test</code> directory), and output was written to Syslog.  Take a look at both the property configuration script (<code class="filename">test-prop-config</code>) and the common script (<code class="filename">test-common</code>) if you would like to see what is happening.  If you do, you will notice that nowhere was it configured to write to the any of those different locations.  The <code class="filename">log4sh.properties</code> configuration file did all of that work.  Go ahead and take a look at it too.  You might be amazed with how easy it was to write to so many locations with such a small amount of code.</p></div><div class="example"><a name="id2467938"></a><p class="title"><b>Example 2.3. Runtime Configuration Test</b></p><p>This example is exactly like the last example as far as output is concerned (they both execute the same <code class="filename">test-common</code> script), but this one is configured instead at runtime with function calls.  It demonstrates that log4sh is fully configurable at runtime.</p><p>Run the runtime configuration test.</p><pre class="screen">
$ ./test-runtime-config
INFO - We are the Simpsons!
INFO - Mmmmmm .... Chocolate.
INFO - Homer likes chocolate
...
</pre><p>You should again see much more output on your terminal that what was listed above.  The output should also have been exactly the same (except that the times were different) as the above example.  This is because the same logging commands were used.  If you take a look a look in the <code class="filename">test-runtime-config</code> script though, you will see that log4sh was configured completly at runtime.  The <code class="filename">log4sh.properties</code> was not used.  It shows that log4sh can be fully configured without a pre-existing configuration file.  This isn't nearly as friendly as using the configuration file, but there are times when it is needed.</p></div></div><div class="chapter" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a name="usage"></a>Chapter 3. Usage Guide</h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="#usage-preconfigure">1. Preconfigure log4sh (optional)</a></span></dt><dt><span class="section"><a href="#usage-source">2. Source log4sh</a></span></dt><dt><span class="section"><a href="#usage-code">3. Configure log4sh in code</a></span></dt><dt><span class="section"><a href="#usage-logging">4. Logging with log4sh</a></span></dt></dl></div><p>The usage of log4sh is simple.  There are only a few simple steps required to setup and use log4sh in your application.</p><p>
    </p><div class="orderedlist"><ol type="1" compact><li><p>preconfigure log4sh (properties file)</p></li><li><p>source the log4sh script code into the shell script</p></li><li><p>configure log4sh in code (optional)</p></li><li><p>call logging statements</p></li></ol></div><p>
  </p><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="usage-preconfigure"></a>1. Preconfigure log4sh (optional)</h2></div></div></div><p>To preconfigure log4sh, create a properties file (see the <a href="#properties_file" title="1. Properties File">Properties File</a> later in this document).  If the properties file is not located in the same directory as log4sh, set the <code class="varname">LOG4SH_CONFIGURATION</code> environment variable to the full path to the properties file.  If you do not wish to preconfigure log4sh, please read the <a href="#usage-code" title="3. Configure log4sh in code">Configure log4sh in code</a> section later in this chapter.</p></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="usage-source"></a>2. Source log4sh</h2></div></div></div><p>To source the code into your script (also known as including), one uses the sourcing ability of shell to source one script into another.  See the following quick example for how easy this is done.</p><div class="example"><a name="id2468356"></a><p class="title"><b>Example 3.1. Sourcing external shell code into current program</b></p><pre class="programlisting">
#! /bin/sh

# source log4sh from current directory
. ./log4sh
</pre></div><p>Here is some sample code that looks for log4sh in the same directory as the script is located, as well as the current directory.  If log4sh could not be found, it exits with an error.  If log4sh is found, it is loaded, along with the <code class="filename">log4sh.properties</code> file in the current directory (see the following example).  It then logs a message at the <code class="constant">INFO</code> level to STDOUT.</p><div class="example"><a name="id2468384"></a><p class="title"><b>Example 3.2. Hello, world (using properties file)</b></p><pre class="programlisting">
#! /bin/sh
#
# log4sh example: Hello, world
#
myDir=`dirname $0`

# find and source log4sh
if [ -r "$myDir/log4sh" ]; then
  log4shDir=$myDir
elif [ -r "./log4sh" ]; then
  log4shDir=.
else
  echo "fatal: could not find log4sh" &gt;&amp;2
  exit 1
fi
. $log4shDir/log4sh

# say Hello to the world
logger_info "Hello, world"
</pre></div><p>Here is the <code class="filename">log4sh.properties</code> file for the previous example.  Save it in the same directory you are running the above script from.</p><div class="example"><a name="id2506492"></a><p class="title"><b>Example 3.3. Hello, world; properties file</b></p><pre class="programlisting">
#
# log4sh example: Hello, world properties file
#

# Set root logger level to DEBUG and its only appender to A1
log4sh.rootLogger=INFO, A1

# A1 is set to be a ConsoleAppender.
log4sh.appender.A1=ConsoleAppender

# A1 uses a PatternLayout.
log4sh.appender.A1.layout=PatternLayout
log4sh.appender.A1.layout.ConversionPattern=%-4r [%t] %-5p %c %x - %m%n
</pre></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="usage-code"></a>3. Configure log4sh in code</h2></div></div></div><p>If log4sh was not preconfigured, the default configuration will be equivalent the config shown below.  Please note: log4sh will complain if no configuration file was found.  If you meant for the default configuration to be used, or you want to configure log4sh via code, make sure to define the <code class="varname">LOG4SH_CONFIGURATION</code> with the value of "none".</p><pre class="programlisting">
log4sh.rootLogger=ERROR, stdout
log4sh.appender.stdout=ConsoleAppender
log4sh.appender.stdout.layout=PatternLayout
log4sh.appender.stdout.layout.ConversionPattern=%-4r [%t] %-5p %c %x - %m%n
</pre><p>To configure log4sh in code, simply call the appropriate functions in your code.  The following code sample loads log4sh from the current directory, configures it for STDERR output, and the logs a message at the <code class="constant">INFO</code> level.</p><div class="example"><a name="id2506548"></a><p class="title"><b>Example 3.4. Hello, world (configured in code)</b></p><pre class="programlisting">
#! /bin/sh
#
# log4sh example: Hello, world
#

# source log4sh (disabling properties file warning)
LOG4SH_CONFIGURATION='none' . ./log4sh

# set the global logging level
logger_setLevel INFO

# close the default STDOUT appender, and add a new STDERR appender
appender_close stdout
logger_addAppender stderr
appender_setType stderr FileAppender
appender_file_setFile stderr STDERR

# say Hello to the world
logger_info 'Hello, world'
</pre></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="usage-logging"></a>4. Logging with log4sh</h2></div></div></div><p>Once log4sh is loaded, logging is as simple as calling the appropriate logging function with a message to be logged.  Take a look at the above examples to see just how easy it was to log the statement <code class="literal">"Hello, world"</code> at an <code class="constant">INFO</code> level.</p><p>The samples above show the standard way of logging a message via log4sh. That standard method is by calling the appropriate function, and passing the message as a parameter.</p><div class="example"><a name="id2506596"></a><p class="title"><b>Example 3.5. Standard method of logging a message</b></p><pre class="programlisting">logger_info 'message to log'</pre></div><p>There is a second way of logging as well. The second method is via pipes. What this method is really good for is logging the standard output (STDOUT) of a command to the logfile. Piping <span><strong class="command">echo</strong></span> statements is a bit silly, but something like piping the output of a <span><strong class="command">ls</strong></span> is more practical (e.g. <code class="literal">ls -l |logger_info</code>).</p><div class="example"><a name="id2506630"></a><p class="title"><b>Example 3.6. Alternate method of logging a message</b></p><pre class="programlisting">echo 'message to log' |logger_info</pre></div></div></div><div class="chapter" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a name="configuration"></a>Chapter 4. Configuration</h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="#properties_file">1. Properties File</a></span></dt><dd><dl><dt><span class="section"><a href="#properties-root_logger">1.1. Root Logger</a></span></dt><dt><span class="section"><a href="#levels">1.2. Levels</a></span></dt><dt><span class="section"><a href="#appenders">1.3. Appenders</a></span></dt></dl></dd><dt><span class="section"><a href="#env_vars">2. Environment Variables</a></span></dt></dl></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="properties_file"></a>1. Properties File</h2></div></div></div><p>Log4sh can be configured with a properties file that is separate from the actual script where the logging takes place.  By default, log4sh looks for its properties file called <code class="filename">log4sh.properties</code> in the current directory.  If the file is located elsewhere or with a different name, log4sh can be configured by setting the <code class="varname">LOG4SH_CONFIGURATION</code> environment variable (eg. <code class="varname">LOG4SH_CONFIGURATION="/etc/log4sh.conf"</code>).</p><p>A <code class="filename">log4sh.properties</code> file that is completly empty is sufficient to configure log4sh.  There will be absolutely no output however (which might just be what is desired).  Usually though, some output is desired, so there is at least a recommended minimum configuration file.  An explaination of the file follows the example.</p><div class="example"><a name="id2468056"></a><p class="title"><b>Example 4.1. Recommended minimum log4sh.properties file</b></p><pre class="programlisting">
  log4sh.rootLogger=INFO, stdout
  log4sh.appender.stdout=ConsoleAppender
  </pre></div><p>In the first line, the root logger is configured by setting the default logging level, and defining the name of an appender.  In the second line, the stdout appender is defined as a <code class="constant">ConsoleAppender</code>.</p><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a name="properties-root_logger"></a>1.1. Root Logger</h3></div></div></div><p>(future)</p></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a name="levels"></a>1.2. Levels</h3></div></div></div><div class="table"><a name="id2507088"></a><p class="title"><b>Table 4.1. Logging Levels (from most output to least)</b></p><table summary="Logging Levels (from most output to least)" border="1"><colgroup><col><col></colgroup><thead><tr><th>Level</th><th>Definition</th></tr></thead><tbody><tr><td><code class="constant">TRACE</code></td><td>The <code class="constant">TRACE</code> level has the lowest possible rank and is intended to turn on all logging.</td></tr><tr><td><code class="constant">DEBUG</code></td><td>The <code class="constant">DEBUG</code> level designates fine-grained informational events that are most useful to debug an application.</td></tr><tr><td><code class="constant">INFO</code></td><td>The <code class="constant">INFO</code> level designates informational messages that highlight the progress of the application at coarse-grained level.</td></tr><tr><td><code class="constant">WARN</code></td><td>The <code class="constant">WARN</code> level designates potentially harmful situations.</td></tr><tr><td><code class="constant">ERROR</code></td><td>The <code class="constant">ERROR</code> level designates error events that might still allow the application to continue running.</td></tr><tr><td><code class="constant">FATAL</code></td><td>The <code class="constant">FATAL</code> level designates very severe error events that will presumably lead the application to abort.</td></tr><tr><td><code class="constant">OFF</code></td><td>The <code class="constant">OFF</code> level has the highest possible rank and is intended to turn off logging.</td></tr></tbody></table></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a name="appenders"></a>1.3. Appenders</h3></div></div></div><p>An appender name can be any alpha-numeric string containing no spaces.</p><div class="example"><a name="id2507234"></a><p class="title"><b>Example 4.2. Sample appender names</b></p><p>myAppender - good</p></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a name="types"></a>1.3.1. Types</h4></div></div></div><p>An appender can be set to one of several different types.</p><div class="example"><a name="id2507259"></a><p class="title"><b>Example 4.3. Setting an appender type</b></p><pre class="programlisting">
    log4sh.appender.A1=FileAppender
    </pre></div><div class="table"><a name="id2507270"></a><p class="title"><b>Table 4.2. Appender Types</b></p><table summary="Appender Types" border="1"><colgroup><col><col><col></colgroup><thead><tr><th>Type</th><th>Definition</th><th>Supported?</th></tr></thead><tbody><tr><td>ConsoleAppender</td><td>output sent to console (STDOUT)</td><td>yes</td></tr><tr><td>FileAppender</td><td>output sent to a file</td><td>yes</td></tr><tr><td>DailyRollingFileAppender</td><td>output sent to a file that rolls over daily</td><td>partial; logs written, but not rotated</td></tr><tr><td>RollingFileAppender</td><td>output sent to a file that rolls over by size</td><td>partial; works, but nees improvement</td></tr><tr><td>SMTPAppender</td><td>output sent via email</td><td>parital; works, but needs improvement</td></tr><tr><td>SyslogAppender</td><td>output sent to a remote syslog daemon</td><td>partial; only localhost supported</td></tr></tbody></table></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a name="options"></a>1.3.2. Options</h4></div></div></div><p>An appender can take several different options.</p><div class="example"><a name="id2507394"></a><p class="title"><b>Example 4.4. Setting an appender option</b></p><pre class="programlisting">
    log4sh.appender.A1.File=output.log
    </pre></div><div class="table"><a name="id2507406"></a><p class="title"><b>Table 4.3. Appender Options</b></p><table summary="Appender Options" border="1"><colgroup><col><col><col></colgroup><thead><tr><th>Option</th><th>Definition</th><th>Supported?</th></tr></thead><tbody><tr><td>DatePattern</td><td>configure a pattern for the output filename</td><td>no (ignored)</td></tr><tr><td>File</td><td>output filename (special filename of STDERR used for logging to STDERR)</td><td>yes</td></tr><tr><td>MaxBackupIndex</td><td>number of old logfiles to keep</td><td>no (ignored)</td></tr><tr><td>MaxFileSize</td><td>maximum size of old logfiles</td><td>no (ignored)</td></tr><tr><td>Threshold</td><td>logging level of the appender</td><td>yes</td></tr></tbody></table></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a name="layouts"></a>1.3.3. Layouts</h4></div></div></div><p>An appender can be configured with various Layouts to customize how the output looks.</p><div class="example"><a name="id2507514"></a><p class="title"><b>Example 4.5. Setting an appender's layout</b></p><pre class="programlisting">
    log4sh.appender.A1.layout=PatternLayout
    </pre></div><div class="table"><a name="id2507526"></a><p class="title"><b>Table 4.4. Layouts</b></p><table summary="Layouts" border="1"><colgroup><col><col><col></colgroup><thead><tr><th>Layout</th><th>Definition</th><th>Supported?</th></tr></thead><tbody><tr><td>HTMLLayout</td><td>layout using HTML</td><td>no (same as SimpleLayout)</td></tr><tr><td>SimpleLayout</td><td>a simple default layout ('%p - %m')</td><td>yes</td></tr><tr><td>PatternLayout</td><td>a patterned layout (default: '%d %p - %m%n')</td><td>yes</td></tr></tbody></table></div><p>An layout has many different options to configure how it appears.  These are known as patterns.</p><div class="example"><a name="id2507600"></a><p class="title"><b>Example 4.6. Setting an appender's layout pattern</b></p><pre class="programlisting">
    log4sh.appender.A1.layout.ConversionPattern=%d [%p] %c - %m%n
    </pre></div><div class="table"><a name="id2507614"></a><p class="title"><b>Table 4.5. Pattern Options</b></p><table summary="Pattern Options" border="1"><colgroup><col><col><col></colgroup><thead><tr><th>Option</th><th>Definition</th><th>Supported?</th></tr></thead><tbody><tr><td align="center">c</td><td>Used to output the category of logging request.  As this is not applicable in shell, the conversion character will always returns 'shell'.</td><td>partial (fixed)</td></tr><tr><td align="center">d</td><td>
  		<p>Used to output the date of the logging event.  The date conversion specifier may be followed by a <span class="emphasis"><em>date format specifier</em></span> enclosed between braces, but this specifier will be ignored.  For example, <code class="option">%d{HH:mm:ss,SSS}</code>, or <code class="option">%d{ISODATE}</code>.  The specifier is allowed only for compatibility with log4j properties files.</p>
  		<p>The default format of the date returned is equavilant to the output of the Unix <span><strong class="command">date</strong></span> command with a format of <code class="option">+%Y-%m-%d %H:%M:%S</code>.</p>
  	      </td><td>yes</td></tr><tr><td align="center">F</td><td>
  		<p>Used to output the file name where the logging request was issued.</p>
  		<p>The default value is equavilent <span><strong class="command">basename $0</strong></span>.</p>
  	      </td><td>yes</td></tr><tr><td align="center">L</td><td>This option is for compatibility with log4j properties files.</td><td>no (ignored)</td></tr><tr><td align="center">m</td><td>Used to output the script supplied message associated with the logging event.</td><td>yes</td></tr><tr><td align="center">n</td><td>This option is for compatibility with log4j properties files.</td><td>no (ignored)</td></tr><tr><td align="center">p</td><td>Used to output the priority of the logging event.</td><td>yes</td></tr><tr><td align="center">r</td><td>Used to output the number of seconds elapsed since the start of the script until the creation of the logging event.</td><td>partial (<span><strong class="command">bash</strong></span>, <span><strong class="command">ksh</strong></span>)</td></tr><tr><td align="center">t</td><td>
  	        <p>Used to output the current executing thread.  As shell doesn't actually support threads, this is simply a value that can be set that can be put into the messages.i</p>
  		<p>The default value is 'main'.</p>
  	      </td><td>yes</td></tr><tr><td align="center">x</td><td>This option is for compatibility with log4j properties files.</td><td>no (ignored)</td></tr><tr><td align="center">X</td><td>Used to output the MDC (mapped diagnostic context) associated with the thread that generated the logging event.  The <code class="option">X</code> conversion character <span class="emphasis"><em>must</em></span> be followed by an environment variable name placed between braces, as in <code class="option">%X{clientNumber}</code> where <code class="option">clientNumber</code> is the name of the environment variable.  The value in the MDC corresponding to the environment variable will be output.</td><td>no (ignored)</td></tr><tr><td align="center">%</td><td>The sequence <code class="option">%%</code> outputs a single percent sign.</td><td>yes</td></tr></tbody></table></div></div></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="env_vars"></a>2. Environment Variables</h2></div></div></div><p>There are some environment variables that can be used to pre-configure log4sh, or to change some of its default behavior.  These variables should be set before log4sh is sourced so that they are immediately available to log4sh.</p><p>Here is the full list of supported variables.</p><div class="table"><a name="id2507943"></a><p class="title"><b>Table 4.6. log4sh environment variables</b></p><table summary="log4sh environment variables" border="1"><colgroup><col><col></colgroup><thead><tr><th>Variable</th><th>Usage</th></tr></thead><tbody><tr><td><code class="varname">LOG4SH_CONFIGURATION</code></td><td>
	      <p>This variable is used to tell log4sh what the name of (and possibly the full path to) the configuration (a.k.a properties) file that should be used to configure log4sh at the time log4sh is sourced.  If the value 'none' is passed, than log4sh will expect to be configured at a later time via run-time configuration.</p>
	      <div class="example"><a name="id2507984"></a><p class="title"><b>Example 4.7. LOG4SH_CONFIGURATION variable</b></p><pre class="programlisting">LOG4SH_CONFIGURATION='/path/to/log4j.properties'</pre></div>
	    </td></tr><tr><td><code class="varname">LOG4SH_CONFIG_PREFIX</code></td><td>
	      <p>This variable is used to tell log4sh what prefix it should use when parsing the configuration file.  Normally, the default value is 'log4sh' (e.g. 'log4sh.rootLogger'), but the value can be redefined so that a configuration file from another logging frame work such as log4j can be read.</p>
	      <div class="example"><a name="id2508016"></a><p class="title"><b>Example 4.8. LOG4SH_CONFIG_PREFIX variable</b></p><pre class="programlisting">LOG4SH_CONFIG_PREFIX='log4j'</pre></div>
	    </td></tr></tbody></table></div></div></div><div class="chapter" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a name="shelldoc"></a>Chapter 5. Function Reference</h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="#id2508544">1. Appenders</a></span></dt><dt><span class="section"><a href="#id2510503">2. FileAppender</a></span></dt><dt><span class="section"><a href="#id2510890">3. Levels</a></span></dt><dt><span class="section"><a href="#id2511009">4. Logger</a></span></dt><dt><span class="section"><a href="#id2511407">5. PatternLayout</a></span></dt><dt><span class="section"><a href="#id2511481">6. SMTPAppender</a></span></dt><dt><span class="section"><a href="#id2511842">7. SyslogAppender</a></span></dt><dt><span class="section"><a href="#id2512376">8. Threads</a></span></dt><dt><span class="section"><a href="#id2512602">9. arrays</a></span></dt><dt><span class="section"><a href="#id2513032">10. miscellaneous</a></span></dt><dt><span class="section"><a href="#id2513313">11. properties</a></span></dt></dl></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2508544"></a>1. Appenders</h2></div></div></div><div class="table"><a name="id2508549"></a><p class="title"><b>Table 5.1. Appenders</b></p><table summary="Appenders" border="1"><colgroup><col><col></colgroup><tbody><tr valign="top"><td align="right" valign="top">
              <span class="emphasis"><em>void</em></span>
            </td><td valign="top">
              <div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" style="padding-bottom: 1em"><tr><td><code class="funcdef">
                    <b class="fsfunc">_appender_cache</b>
                  (</code></td><td><var class="pdparam">appender</var><code>)</code>;</td><td> </td></tr></table><table border="0" summary="Function argument synopsis" cellspacing="0" cellpadding="0"><tr><td>string  </td><td><var class="pdparam">appender</var>;</td></tr></table></div>
              <p>Dynamically creates an appender function in memory that will fully
  instantiate itself when it is called.</p>
              <div class="funcsynopsis"><pre class="funcsynopsisinfo">_appender_cache myAppender</pre></div>
            </td></tr><tr valign="top"><td align="right" valign="top">
              <span class="emphasis"><em>void</em></span>
            </td><td valign="top">
              <div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" style="padding-bottom: 1em"><tr><td><code class="funcdef">
                    <b class="fsfunc">_appender_generate</b>
                  (</code></td><td><var class="pdparam">appender</var><code>)</code>;</td><td> </td></tr></table><table border="0" summary="Function argument synopsis" cellspacing="0" cellpadding="0"><tr><td>string  </td><td><var class="pdparam">appender</var>;</td></tr></table></div>
              <p>Dynamically regenerates an appender function in memory that is fully
  instantiated for a specific logging task.</p>
              <div class="funcsynopsis"><pre class="funcsynopsisinfo">_appender_generate myAppender</pre></div>
            </td></tr><tr valign="top"><td align="right" valign="top">
              <code class="code">string</code>
            </td><td valign="top">
              <div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" style="padding-bottom: 1em"><tr><td><code class="funcdef">
                    <b class="fsfunc">_appender_getLayoutByIndex</b>
                  (</code></td><td><var class="pdparam">index</var><code>)</code>;</td><td> </td></tr></table><table border="0" summary="Function argument synopsis" cellspacing="0" cellpadding="0"><tr><td>integer  </td><td><var class="pdparam">index</var>;</td></tr></table></div>
              <p>Gets the Layout of an Appender at the given array index</p>
              <div class="funcsynopsis"><pre class="funcsynopsisinfo">type=`_appender_getLayoutByIndex 3`</pre></div>
            </td></tr><tr valign="top"><td align="right" valign="top">
              <code class="code">string</code>
            </td><td valign="top">
              <div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" style="padding-bottom: 1em"><tr><td><code class="funcdef">
                    <b class="fsfunc">_appender_getLevelByIndex</b>
                  (</code></td><td><var class="pdparam">index</var><code>)</code>;</td><td> </td></tr></table><table border="0" summary="Function argument synopsis" cellspacing="0" cellpadding="0"><tr><td>integer  </td><td><var class="pdparam">index</var>;</td></tr></table></div>
              <p>Gets the current logging Level of an Appender at the given array
  index</p>
              <div class="funcsynopsis"><pre class="funcsynopsisinfo">type=`_appender_getLevelByIndex 3`</pre></div>
            </td></tr><tr valign="top"><td align="right" valign="top">
              <code class="code">string</code>
            </td><td valign="top">
              <div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" style="padding-bottom: 1em"><tr><td><code class="funcdef">
                    <b class="fsfunc">_appender_getNameByIndex</b>
                  (</code></td><td><var class="pdparam">index</var><code>)</code>;</td><td> </td></tr></table><table border="0" summary="Function argument synopsis" cellspacing="0" cellpadding="0"><tr><td>integer  </td><td><var class="pdparam">index</var>;</td></tr></table></div>
              <p>Gets the name of the appender at the given position in the appender
  array.</p>
              <div class="funcsynopsis"><pre class="funcsynopsisinfo">appenderName=`_appender_getNameByIndex 3`</pre></div>
            </td></tr><tr valign="top"><td align="right" valign="top">
              <code class="code">string</code>
            </td><td valign="top">
              <div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" style="padding-bottom: 1em"><tr><td><code class="funcdef">
                    <b class="fsfunc">_appender_getPatternByIndex</b>
                  (</code></td><td><var class="pdparam">index</var><code>)</code>;</td><td> </td></tr></table><table border="0" summary="Function argument synopsis" cellspacing="0" cellpadding="0"><tr><td>integer  </td><td><var class="pdparam">index</var>;</td></tr></table></div>
              <p>Gets the Pattern of an Appender at the specified array index</p>
              <div class="funcsynopsis"><pre class="funcsynopsisinfo">pattern=`_appender_getPatternByIndex 3`</pre></div>
            </td></tr><tr valign="top"><td align="right" valign="top">
              <code class="code">string</code>
            </td><td valign="top">
              <div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" style="padding-bottom: 1em"><tr><td><code class="funcdef">
                    <b class="fsfunc">_appender_getTypeByIndex</b>
                  (</code></td><td><var class="pdparam">index</var><code>)</code>;</td><td> </td></tr></table><table border="0" summary="Function argument synopsis" cellspacing="0" cellpadding="0"><tr><td>integer  </td><td><var class="pdparam">index</var>;</td></tr></table></div>
              <p>Gets the Type of an Appender at the given array index</p>
              <div class="funcsynopsis"><pre class="funcsynopsisinfo">type=`_appender_getTypeByIndex 3`</pre></div>
            </td></tr><tr valign="top"><td align="right" valign="top">
              <code class="code">string</code>
            </td><td valign="top">
              <div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" style="padding-bottom: 1em"><tr><td><code class="funcdef">
                    <b class="fsfunc">_appender_parsePattern</b>
                  (</code></td><td><var class="pdparam">pattern</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam">priority</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam">message</var><code>)</code>;</td><td> </td></tr></table><table border="0" summary="Function argument synopsis" cellspacing="0" cellpadding="0"><tr><td>string  </td><td><var class="pdparam">pattern</var>;</td></tr><tr><td>string  </td><td><var class="pdparam">priority</var>;</td></tr><tr><td>string  </td><td><var class="pdparam">message</var>;</td></tr></table></div>
              <p>Generate a logging message given a Pattern, priority, and message.
  All dates will be represented as ISO 8601 dates (YYYY-MM-DD
  HH:MM:SS).</p>
              <p>Note: the '<code class="code">%r</code>' character modifier does not work in the
  Solaris <code class="code">/bin/sh</code> shell</p>
              <p>Example:
    </p><div class="blockquote"><blockquote class="blockquote"><div class="funcsynopsis"><pre class="funcsynopsisinfo">_appender_parsePattern '%d %p - %m%n' INFO "message to log"</pre></div></blockquote></div>
            </td></tr><tr valign="top"><td align="right" valign="top">
              <span class="emphasis"><em>void</em></span>
            </td><td valign="top">
              <div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" style="padding-bottom: 1em"><tr><td><code class="funcdef">
                    <b class="fsfunc">_appender_setNameByIndex</b>
                  (</code></td><td><var class="pdparam">index</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam">appenderName</var><code>)</code>;</td><td> </td></tr></table><table border="0" summary="Function argument synopsis" cellspacing="0" cellpadding="0"><tr><td>integer  </td><td><var class="pdparam">index</var>;</td></tr><tr><td>string  </td><td><var class="pdparam">appenderName</var>;</td></tr></table></div>
              <p>(future) Sets the name of the appender at the given position in the
  appender array.</p>
              <div class="funcsynopsis"><pre class="funcsynopsisinfo">_appender_setNameByIndex 3 "myAppender"`</pre></div>
            </td></tr><tr valign="top"><td align="right" valign="top">
              <span class="emphasis"><em>void</em></span>
            </td><td valign="top">
              <div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" style="padding-bottom: 1em"><tr><td><code class="funcdef">
                    <b class="fsfunc">appender_close</b>
                  (</code></td><td><var class="pdparam">appender</var><code>)</code>;</td><td> </td></tr></table><table border="0" summary="Function argument synopsis" cellspacing="0" cellpadding="0"><tr><td>string  </td><td><var class="pdparam">appender</var>;</td></tr></table></div>
              <p>Disable any further logging via an appender.  Once closed, the
  appender can be reopened by setting it to any logging Level (e.g.
  INFO).</p>
              <div class="funcsynopsis"><pre class="funcsynopsisinfo">appender_close myAppender</pre></div>
            </td></tr><tr valign="top"><td align="right" valign="top">
              <code class="code">boolean</code>
            </td><td valign="top">
              <div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" style="padding-bottom: 1em"><tr><td><code class="funcdef">
                    <b class="fsfunc">appender_exists</b>
                  (</code></td><td><var class="pdparam">appender</var><code>)</code>;</td><td> </td></tr></table><table border="0" summary="Function argument synopsis" cellspacing="0" cellpadding="0"><tr><td>string  </td><td><var class="pdparam">appender</var>;</td></tr></table></div>
              <p>Checks for the existance of a named appender</p>
              <div class="funcsynopsis"><pre class="funcsynopsisinfo">exists=`appender_exists myAppender`</pre></div>
            </td></tr><tr valign="top"><td align="right" valign="top">
              <code class="code">string</code>
            </td><td valign="top">
              <div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" style="padding-bottom: 1em"><tr><td><code class="funcdef">
                    <b class="fsfunc">appender_getAppenderType</b>
                  (</code></td><td><var class="pdparam">index</var><code>)</code>;</td><td> </td></tr></table><table border="0" summary="Function argument synopsis" cellspacing="0" cellpadding="0"><tr><td>integer  </td><td><var class="pdparam">index</var>;</td></tr></table></div>
              <p><span class="emphasis"><em>(deprecated)</em></span> Gets the Type of an Appender at the
    given array index</p>
              <div class="funcsynopsis"><pre class="funcsynopsisinfo">type=`appender_getAppenderType 3`</pre></div>
            </td></tr><tr valign="top"><td align="right" valign="top">
              <code class="code">string</code>
            </td><td valign="top">
              <div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" style="padding-bottom: 1em"><tr><td><code class="funcdef">
                    <b class="fsfunc">appender_getLayout</b>
                  (</code></td><td><var class="pdparam">appender</var><code>)</code>;</td><td> </td></tr></table><table border="0" summary="Function argument synopsis" cellspacing="0" cellpadding="0"><tr><td>string  </td><td><var class="pdparam">appender</var>;</td></tr></table></div>
              <p>Gets the Layout of an Appender</p>
              <div class="funcsynopsis"><pre class="funcsynopsisinfo">type=`appender_getLayout myAppender`</pre></div>
            </td></tr><tr valign="top"><td align="right" valign="top">
              <code class="code">string</code>
            </td><td valign="top">
              <div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" style="padding-bottom: 1em"><tr><td><code class="funcdef">
                    <b class="fsfunc">appender_getLevel</b>
                  (</code></td><td><var class="pdparam">appender</var><code>)</code>;</td><td> </td></tr></table><table border="0" summary="Function argument synopsis" cellspacing="0" cellpadding="0"><tr><td>string  </td><td><var class="pdparam">appender</var>;</td></tr></table></div>
              <p>Gets the current logging Level of an Appender</p>
              <div class="funcsynopsis"><pre class="funcsynopsisinfo">type=`appender_getLevel myAppender`</pre></div>
            </td></tr><tr valign="top"><td align="right" valign="top">
              <code class="code">string</code>
            </td><td valign="top">
              <div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" style="padding-bottom: 1em"><tr><td><code class="funcdef">
                    <b class="fsfunc">appender_getPattern</b>
                  (</code></td><td><var class="pdparam">appender</var><code>)</code>;</td><td> </td></tr></table><table border="0" summary="Function argument synopsis" cellspacing="0" cellpadding="0"><tr><td>string  </td><td><var class="pdparam">appender</var>;</td></tr></table></div>
              <p>Gets the Pattern of an Appender</p>
              <div class="funcsynopsis"><pre class="funcsynopsisinfo">pattern=`appender_getPattern myAppender`</pre></div>
            </td></tr><tr valign="top"><td align="right" valign="top">
              <code class="code">string</code>
            </td><td valign="top">
              <div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" style="padding-bottom: 1em"><tr><td><code class="funcdef">
                    <b class="fsfunc">appender_getType</b>
                  (</code></td><td><var class="pdparam">appender</var><code>)</code>;</td><td> </td></tr></table><table border="0" summary="Function argument synopsis" cellspacing="0" cellpadding="0"><tr><td>string  </td><td><var class="pdparam">appender</var>;</td></tr></table></div>
              <p>Gets the Type of an Appender</p>
              <div class="funcsynopsis"><pre class="funcsynopsisinfo">type=`appender_getType myAppender`</pre></div>
            </td></tr><tr valign="top"><td align="right" valign="top">
              <span class="emphasis"><em>void</em></span>
            </td><td valign="top">
              <div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" style="padding-bottom: 1em"><tr><td><code class="funcdef">
                    <b class="fsfunc">appender_setAppenderType</b>
                  (</code></td><td><var class="pdparam">appender</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam">type</var><code>)</code>;</td><td> </td></tr></table><table border="0" summary="Function argument synopsis" cellspacing="0" cellpadding="0"><tr><td>string  </td><td><var class="pdparam">appender</var>;</td></tr><tr><td>string  </td><td><var class="pdparam">type</var>;</td></tr></table></div>
              <p><span class="emphasis"><em>(deprecated)</em></span> Sets the Type of an Appender (e.g.
    FileAppender)</p>
              <div class="funcsynopsis"><pre class="funcsynopsisinfo">appender_setAppenderType myAppender FileAppender</pre></div>
            </td></tr><tr valign="top"><td align="right" valign="top">
              <span class="emphasis"><em>void</em></span>
            </td><td valign="top">
              <div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" style="padding-bottom: 1em"><tr><td><code class="funcdef">
                    <b class="fsfunc">appender_setLayout</b>
                  (</code></td><td><var class="pdparam">appender</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam">layout</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam">resource</var><code>)</code>;</td><td> </td></tr></table><table border="0" summary="Function argument synopsis" cellspacing="0" cellpadding="0"><tr><td>string  </td><td><var class="pdparam">appender</var>;</td></tr><tr><td>string  </td><td><var class="pdparam">layout</var>;</td></tr><tr><td>boolean  </td><td><var class="pdparam">resource</var> (optional) [default=true];</td></tr></table></div>
              <p>Sets the Layout of an Appender (e.g. PatternLayout)</p>
              <div class="funcsynopsis"><pre class="funcsynopsisinfo">appender_setLayout myAppender PatternLayout</pre></div>
            </td></tr><tr valign="top"><td align="right" valign="top"><span class="emphasis"><em>void</em></span>/<code class="code">boolean</code></td><td valign="top">
              <div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" style="padding-bottom: 1em"><tr><td><code class="funcdef">
                    <b class="fsfunc">appender_setLevel</b>
                  (</code></td><td><var class="pdparam">appender</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam">level</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam">resource</var><code>)</code>;</td><td> </td></tr></table><table border="0" summary="Function argument synopsis" cellspacing="0" cellpadding="0"><tr><td>string  </td><td><var class="pdparam">appender</var>;</td></tr><tr><td>string  </td><td><var class="pdparam">level</var>;</td></tr><tr><td>boolean  </td><td><var class="pdparam">resource</var> (optional) [default=true];</td></tr></table></div>
              <p>Sets the Level of an Appender (e.g. INFO)</p>
              <div class="funcsynopsis"><pre class="funcsynopsisinfo">appender_setLevel myAppender INFO</pre></div>
            </td></tr><tr valign="top"><td align="right" valign="top"><span class="emphasis"><em>void</em></span>/<code class="code">boolean</code></td><td valign="top">
              <div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" style="padding-bottom: 1em"><tr><td><code class="funcdef">
                    <b class="fsfunc">appender_setPattern</b>
                  (</code></td><td><var class="pdparam">appender</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam">pattern</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam">resource</var><code>)</code>;</td><td> </td></tr></table><table border="0" summary="Function argument synopsis" cellspacing="0" cellpadding="0"><tr><td>string  </td><td><var class="pdparam">appender</var>;</td></tr><tr><td>string  </td><td><var class="pdparam">pattern</var>;</td></tr><tr><td>boolean  </td><td><var class="pdparam">resource</var> (optional) [default=true];</td></tr></table></div>
              <p>Sets the Pattern of an Appender</p>
              <div class="funcsynopsis"><pre class="funcsynopsisinfo">appender_setPattern myAppender '%d %p - %m%n'</pre></div>
            </td></tr><tr valign="top"><td align="right" valign="top"><span class="emphasis"><em>void</em></span>/<code class="code">boolean</code></td><td valign="top">
              <div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" style="padding-bottom: 1em"><tr><td><code class="funcdef">
                    <b class="fsfunc">appender_setType</b>
                  (</code></td><td><var class="pdparam">appender</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam">type</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam">resource</var><code>)</code>;</td><td> </td></tr></table><table border="0" summary="Function argument synopsis" cellspacing="0" cellpadding="0"><tr><td>string  </td><td><var class="pdparam">appender</var>;</td></tr><tr><td>string  </td><td><var class="pdparam">type</var>;</td></tr><tr><td>boolean  </td><td><var class="pdparam">resource</var> (optional) [default=true];</td></tr></table></div>
              <p>Sets the Type of an Appender (e.g. FileAppender)</p>
              <div class="funcsynopsis"><pre class="funcsynopsisinfo">appender_setType myAppender FileAppender</pre></div>
            </td></tr><tr valign="top"><td align="right" valign="top"><span class="emphasis"><em>void</em></span>/<code class="code">boolean</code></td><td valign="top">
              <div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" style="padding-bottom: 1em"><tr><td><code class="funcdef">
                    <b class="fsfunc">logger_addAppender</b>
                  (</code></td><td><var class="pdparam">appender</var><code>)</code>;</td><td> </td></tr></table><table border="0" summary="Function argument synopsis" cellspacing="0" cellpadding="0"><tr><td>string  </td><td><var class="pdparam">appender</var>;</td></tr></table></div>
              <p>Add and initialize a new appender</p>
              <div class="funcsynopsis"><pre class="funcsynopsisinfo">logger_addAppender $appender</pre></div>
            </td></tr><tr valign="top"><td align="right" valign="top">
              <span class="emphasis"><em>void</em></span>
            </td><td valign="top">
              <div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" style="padding-bottom: 1em"><tr><td><code class="funcdef">
                    <b class="fsfunc">logger_addAppenderWithPattern</b>
                  (</code></td><td><var class="pdparam">appender</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam">pattern</var><code>)</code>;</td><td> </td></tr></table><table border="0" summary="Function argument synopsis" cellspacing="0" cellpadding="0"><tr><td>string  </td><td><var class="pdparam">appender</var>;</td></tr><tr><td>string  </td><td><var class="pdparam">pattern</var>;</td></tr></table></div>
              <p>Add and initialize a new appender with a specific PatternLayout</p>
              <div class="funcsynopsis"><pre class="funcsynopsisinfo">logger_addAppenderWithPattern $appender '%d %p - %m%n'</pre></div>
            </td></tr></tbody></table></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2510503"></a>2. FileAppender</h2></div></div></div><div class="table"><a name="id2510509"></a><p class="title"><b>Table 5.2. FileAppender</b></p><table summary="FileAppender" border="1"><colgroup><col><col></colgroup><tbody><tr valign="top"><td align="right" valign="top">
              <code class="code">string</code>
            </td><td valign="top">
              <div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" style="padding-bottom: 1em"><tr><td><code class="funcdef">
                    <b class="fsfunc">_appender_file_getFileByIndex</b>
                  (</code></td><td><var class="pdparam">index</var><code>)</code>;</td><td> </td></tr></table><table border="0" summary="Function argument synopsis" cellspacing="0" cellpadding="0"><tr><td>integer  </td><td><var class="pdparam">index</var>;</td></tr></table></div>
              <p>Get the filename of a FileAppender at the given array index</p>
              <div class="funcsynopsis"><pre class="funcsynopsisinfo">_appender_file_getFileByIndex 3</pre></div>
            </td></tr><tr valign="top"><td align="right" valign="top">
              <code class="code">string</code>
            </td><td valign="top">
              <div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" style="padding-bottom: 1em"><tr><td><code class="funcdef">
                    <b class="fsfunc">appender_file_getFile</b>
                  (</code></td><td><var class="pdparam">appender</var><code>)</code>;</td><td> </td></tr></table><table border="0" summary="Function argument synopsis" cellspacing="0" cellpadding="0"><tr><td>string  </td><td><var class="pdparam">appender</var>;</td></tr></table></div>
              <p>Get the filename of a FileAppender</p>
              <div class="funcsynopsis"><pre class="funcsynopsisinfo">appender_file_getFile myAppender</pre></div>
            </td></tr><tr valign="top"><td align="right" valign="top">
              <span class="emphasis"><em>void</em></span>
            </td><td valign="top">
              <div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" style="padding-bottom: 1em"><tr><td><code class="funcdef">
                    <b class="fsfunc">appender_file_setFile</b>
                  (</code></td><td><var class="pdparam">appender</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam">filename</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam">resource</var><code>)</code>;</td><td> </td></tr></table><table border="0" summary="Function argument synopsis" cellspacing="0" cellpadding="0"><tr><td>string  </td><td><var class="pdparam">appender</var>;</td></tr><tr><td>string  </td><td><var class="pdparam">filename</var>;</td></tr><tr><td>boolean  </td><td><var class="pdparam">resource</var> (optional) [default=true];</td></tr></table></div>
              <p>Set the filename for a FileAppender (e.g. "STDERR" or
  "/var/log/log4sh.log")</p>
              <div class="funcsynopsis"><pre class="funcsynopsisinfo">appender_file_setFile myAppender STDERR</pre></div>
            </td></tr><tr valign="top"><td align="right" valign="top">
              <span class="emphasis"><em>void</em></span>
            </td><td valign="top">
              <div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" style="padding-bottom: 1em"><tr><td><code class="funcdef">
                    <b class="fsfunc">appender_setAppenderFile</b>
                  (</code></td><td><var class="pdparam">appender</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam">filename</var><code>)</code>;</td><td> </td></tr></table><table border="0" summary="Function argument synopsis" cellspacing="0" cellpadding="0"><tr><td>string  </td><td><var class="pdparam">appender</var>;</td></tr><tr><td>string  </td><td><var class="pdparam">filename</var>;</td></tr></table></div>
              <p><span class="emphasis"><em>(deprecated)</em></span> Set the filename for a FileAppender
    (e.g. "STDERR" or "/var/log/log4sh.log")</p>
              <div class="funcsynopsis"><pre class="funcsynopsisinfo">appender_setAppenderFile myAppender STDERR</pre></div>
            </td></tr><tr valign="top"><td align="right" valign="top">
              <span class="emphasis"><em>void/boolean</em></span>
            </td><td valign="top">
              <div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" style="padding-bottom: 1em"><tr><td><code class="funcdef">
                    <b class="fsfunc">appender_setAppenderSubject</b>
                  (</code></td><td><var class="pdparam">appender</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam">subject</var><code>)</code>;</td><td> </td></tr></table><table border="0" summary="Function argument synopsis" cellspacing="0" cellpadding="0"><tr><td>string  </td><td><var class="pdparam">appender</var>;</td></tr><tr><td>string  </td><td><var class="pdparam">subject</var>;</td></tr></table></div>
              <p><span class="emphasis"><em>(deprecated)</em></span> Sets the email subject for an SMTP
    appender</p>
              <div class="funcsynopsis"><pre class="funcsynopsisinfo">appender_setAppenderSubject myAppender "This is a test"</pre></div>
            </td></tr><tr valign="top"><td align="right" valign="top">
              <span class="emphasis"><em>void/boolean</em></span>
            </td><td valign="top">
              <div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" style="padding-bottom: 1em"><tr><td><code class="funcdef">
                    <b class="fsfunc">appender_smtp_setSubject</b>
                  (</code></td><td><var class="pdparam">appender</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam">subject</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam">resource</var><code>)</code>;</td><td> </td></tr></table><table border="0" summary="Function argument synopsis" cellspacing="0" cellpadding="0"><tr><td>string  </td><td><var class="pdparam">appender</var>;</td></tr><tr><td>string  </td><td><var class="pdparam">subject</var>;</td></tr><tr><td>boolean  </td><td><var class="pdparam">resource</var> (optional) [default=true];</td></tr></table></div>
              <p>Sets the email subject for an SMTP appender</p>
              <div class="funcsynopsis"><pre class="funcsynopsisinfo">appender_smtp_setSubject myAppender "This is a test"</pre></div>
            </td></tr></tbody></table></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2510890"></a>3. Levels</h2></div></div></div><div class="table"><a name="id2510896"></a><p class="title"><b>Table 5.3. Levels</b></p><table summary="Levels" border="1"><colgroup><col><col></colgroup><tbody><tr valign="top"><td align="right" valign="top">
              <code class="code">string</code>
            </td><td valign="top">
              <div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" style="padding-bottom: 1em"><tr><td><code class="funcdef">
                    <b class="fsfunc">logger_getLevel</b>
                  (</code></td><td><code>)</code>;</td><td> </td></tr></table></div>
              <p>Gets the global default logging level (e.g. DEBUG).</p>
              <div class="funcsynopsis"><pre class="funcsynopsisinfo">level=`logger_getLevel`</pre></div>
            </td></tr><tr valign="top"><td align="right" valign="top">
              <span class="emphasis"><em>void</em></span>
            </td><td valign="top">
              <div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" style="padding-bottom: 1em"><tr><td><code class="funcdef">
                    <b class="fsfunc">logger_setLevel</b>
                  (</code></td><td><var class="pdparam">level</var><code>)</code>;</td><td> </td></tr></table><table border="0" summary="Function argument synopsis" cellspacing="0" cellpadding="0"><tr><td>string  </td><td><var class="pdparam">level</var>;</td></tr></table></div>
              <p>Sets the global default logging level (e.g. DEBUG).</p>
              <div class="funcsynopsis"><pre class="funcsynopsisinfo">logger_setLevel INFO</pre></div>
            </td></tr></tbody></table></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2511009"></a>4. Logger</h2></div></div></div><div class="table"><a name="id2511015"></a><p class="title"><b>Table 5.4. Logger</b></p><table summary="Logger" border="1"><colgroup><col><col></colgroup><tbody><tr valign="top"><td align="right" valign="top">
              <code class="code">void</code>
            </td><td valign="top">
              <div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" style="padding-bottom: 1em"><tr><td><code class="funcdef">
                    <b class="fsfunc">log</b>
                  (</code></td><td><var class="pdparam">level</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam">message(s)</var><code>)</code>;</td><td> </td></tr></table><table border="0" summary="Function argument synopsis" cellspacing="0" cellpadding="0"><tr><td>string  </td><td><var class="pdparam">level</var>;</td></tr><tr><td>string[]  </td><td><var class="pdparam">message(s)</var>;</td></tr></table></div>
              <p>The base logging command that logs a message to all defined
    appenders</p>
              <div class="funcsynopsis"><pre class="funcsynopsisinfo">log DEBUG "This is a test message"`</pre></div>
            </td></tr><tr valign="top"><td align="right" valign="top">
              <code class="code">void</code>
            </td><td valign="top">
              <div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" style="padding-bottom: 1em"><tr><td><code class="funcdef">
                    <b class="fsfunc">logger_debug</b>
                  (</code></td><td><var class="pdparam">message</var><code>)</code>;</td><td> </td></tr></table><table border="0" summary="Function argument synopsis" cellspacing="0" cellpadding="0"><tr><td>string[]  </td><td><var class="pdparam">message</var>;</td></tr></table></div>
              <p>This is a helper function for logging a message at the DEBUG
    priority</p>
              <div class="funcsynopsis"><pre class="funcsynopsisinfo">logger_debug "This is a debug message"`</pre></div>
            </td></tr><tr valign="top"><td align="right" valign="top">
              <code class="code">void</code>
            </td><td valign="top">
              <div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" style="padding-bottom: 1em"><tr><td><code class="funcdef">
                    <b class="fsfunc">logger_error</b>
                  (</code></td><td><var class="pdparam">message</var><code>)</code>;</td><td> </td></tr></table><table border="0" summary="Function argument synopsis" cellspacing="0" cellpadding="0"><tr><td>string[]  </td><td><var class="pdparam">message</var>;</td></tr></table></div>
              <p>This is a helper function for logging a message at the ERROR
    priority</p>
              <div class="funcsynopsis"><pre class="funcsynopsisinfo">
      logger_error "This is a error message"`
    </pre></div>
            </td></tr><tr valign="top"><td align="right" valign="top">
              <code class="code">void</code>
            </td><td valign="top">
              <div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" style="padding-bottom: 1em"><tr><td><code class="funcdef">
                    <b class="fsfunc">logger_fatal</b>
                  (</code></td><td><var class="pdparam">message</var><code>)</code>;</td><td> </td></tr></table><table border="0" summary="Function argument synopsis" cellspacing="0" cellpadding="0"><tr><td>string[]  </td><td><var class="pdparam">message</var>;</td></tr></table></div>
              <p>This is a helper function for logging a message at the FATAL
    priority</p>
              <div class="funcsynopsis"><pre class="funcsynopsisinfo">logger_fatal This is a fatal message`</pre></div>
            </td></tr><tr valign="top"><td align="right" valign="top">
              <code class="code">void</code>
            </td><td valign="top">
              <div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" style="padding-bottom: 1em"><tr><td><code class="funcdef">
                    <b class="fsfunc">logger_info</b>
                  (</code></td><td><var class="pdparam">message</var><code>)</code>;</td><td> </td></tr></table><table border="0" summary="Function argument synopsis" cellspacing="0" cellpadding="0"><tr><td>string[]  </td><td><var class="pdparam">message</var>;</td></tr></table></div>
              <p>This is a helper function for logging a message at the INFO
    priority</p>
              <div class="funcsynopsis"><pre class="funcsynopsisinfo">logger_info "This is a info message"`</pre></div>
            </td></tr><tr valign="top"><td align="right" valign="top">
              <code class="code">void</code>
            </td><td valign="top">
              <div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" style="padding-bottom: 1em"><tr><td><code class="funcdef">
                    <b class="fsfunc">logger_trace</b>
                  (</code></td><td><var class="pdparam">message</var><code>)</code>;</td><td> </td></tr></table><table border="0" summary="Function argument synopsis" cellspacing="0" cellpadding="0"><tr><td>string[]  </td><td><var class="pdparam">message</var>;</td></tr></table></div>
              <p>This is a helper function for logging a message at the TRACE
    priority</p>
              <div class="funcsynopsis"><pre class="funcsynopsisinfo">logger_trace "This is a trace message"`</pre></div>
            </td></tr><tr valign="top"><td align="right" valign="top">
              <code class="code">void</code>
            </td><td valign="top">
              <div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" style="padding-bottom: 1em"><tr><td><code class="funcdef">
                    <b class="fsfunc">logger_warn</b>
                  (</code></td><td><var class="pdparam">message</var><code>)</code>;</td><td> </td></tr></table><table border="0" summary="Function argument synopsis" cellspacing="0" cellpadding="0"><tr><td>string[]  </td><td><var class="pdparam">message</var>;</td></tr></table></div>
              <p>This is a helper function for logging a message at the WARN
    priority</p>
              <div class="funcsynopsis"><pre class="funcsynopsisinfo">
      logger_warn "This is a warn message"`
    </pre></div>
            </td></tr></tbody></table></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2511407"></a>5. PatternLayout</h2></div></div></div><div class="table"><a name="id2511412"></a><p class="title"><b>Table 5.5. PatternLayout</b></p><table summary="PatternLayout" border="1"><colgroup><col><col></colgroup><tbody><tr valign="top"><td align="right" valign="top">
              <span class="emphasis"><em>void</em></span>
            </td><td valign="top">
              <div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" style="padding-bottom: 1em"><tr><td><code class="funcdef">
                    <b class="fsfunc">logger_setFilename</b>
                  (</code></td><td><var class="pdparam">filename</var><code>)</code>;</td><td> </td></tr></table><table border="0" summary="Function argument synopsis" cellspacing="0" cellpadding="0"><tr><td>string  </td><td><var class="pdparam">filename</var>;</td></tr></table></div>
              <p>Set the filename to be shown when the '%F' conversion character is
  used in a PatternLayout.</p>
              <div class="funcsynopsis"><pre class="funcsynopsisinfo">logger_setFilename "myScript.sh"</pre></div>
            </td></tr></tbody></table></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2511481"></a>6. SMTPAppender</h2></div></div></div><div class="table"><a name="id2511486"></a><p class="title"><b>Table 5.6. SMTPAppender</b></p><table summary="SMTPAppender" border="1"><colgroup><col><col></colgroup><tbody><tr valign="top"><td align="right" valign="top">
              <code class="code">string</code>
            </td><td valign="top">
              <div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" style="padding-bottom: 1em"><tr><td><code class="funcdef">
                    <b class="fsfunc">_appender_smtp_getSubjectByIndex</b>
                  (</code></td><td><var class="pdparam">index</var><code>)</code>;</td><td> </td></tr></table><table border="0" summary="Function argument synopsis" cellspacing="0" cellpadding="0"><tr><td>integer  </td><td><var class="pdparam">index</var>;</td></tr></table></div>
              <p>Get the email subject for the given appender</p>
              <div class="funcsynopsis"><pre class="funcsynopsisinfo">subject=`_appender_smtp_getSubjectByIndex 3`</pre></div>
            </td></tr><tr valign="top"><td align="right" valign="top">
              <code class="code">string</code>
            </td><td valign="top">
              <div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" style="padding-bottom: 1em"><tr><td><code class="funcdef">
                    <b class="fsfunc">_appender_smtp_getToByIndex</b>
                  (</code></td><td><var class="pdparam">index</var><code>)</code>;</td><td> </td></tr></table><table border="0" summary="Function argument synopsis" cellspacing="0" cellpadding="0"><tr><td>integer  </td><td><var class="pdparam">index</var>;</td></tr></table></div>
              <p>Get the email to address for the given appender</p>
              <div class="funcsynopsis"><pre class="funcsynopsisinfo">email=`_appender_smtp_getToByIndex 3`</pre></div>
            </td></tr><tr valign="top"><td align="right" valign="top">
              <span class="emphasis"><em>void</em></span>
            </td><td valign="top">
              <div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" style="padding-bottom: 1em"><tr><td><code class="funcdef">
                    <b class="fsfunc">appender_setAppenderRecipient</b>
                  (</code></td><td><var class="pdparam">appender</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam">email</var><code>)</code>;</td><td> </td></tr></table><table border="0" summary="Function argument synopsis" cellspacing="0" cellpadding="0"><tr><td>string  </td><td><var class="pdparam">appender</var>;</td></tr><tr><td>string  </td><td><var class="pdparam">email</var>;</td></tr></table></div>
              <p><span class="emphasis"><em>(deprecated)</em></span>Set the to address for the given
    appender</p>
              <div class="funcsynopsis"><pre class="funcsynopsisinfo">appender_smtp_setTo myAppender user@example.com</pre></div>
            </td></tr><tr valign="top"><td align="right" valign="top">
              <code class="code">string</code>
            </td><td valign="top">
              <div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" style="padding-bottom: 1em"><tr><td><code class="funcdef">
                    <b class="fsfunc">appender_smtp_getSubject</b>
                  (</code></td><td><var class="pdparam">appender</var><code>)</code>;</td><td> </td></tr></table><table border="0" summary="Function argument synopsis" cellspacing="0" cellpadding="0"><tr><td>string  </td><td><var class="pdparam">appender</var>;</td></tr></table></div>
              <p>Get the email subject for the given appender</p>
              <div class="funcsynopsis"><pre class="funcsynopsisinfo">subject=`appender_smtp_getSubject myAppender`</pre></div>
            </td></tr><tr valign="top"><td align="right" valign="top">
              <code class="code">string</code>
            </td><td valign="top">
              <div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" style="padding-bottom: 1em"><tr><td><code class="funcdef">
                    <b class="fsfunc">appender_smtp_getTo</b>
                  (</code></td><td><var class="pdparam">appender</var><code>)</code>;</td><td> </td></tr></table><table border="0" summary="Function argument synopsis" cellspacing="0" cellpadding="0"><tr><td>string  </td><td><var class="pdparam">appender</var>;</td></tr></table></div>
              <p>Get the to address for the given appender</p>
              <div class="funcsynopsis"><pre class="funcsynopsisinfo">email=`appender_smtp_getTo myAppender`</pre></div>
            </td></tr><tr valign="top"><td align="right" valign="top">
              <span class="emphasis"><em>void</em></span>
            </td><td valign="top">
              <div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" style="padding-bottom: 1em"><tr><td><code class="funcdef">
                    <b class="fsfunc">appender_smtp_setTo</b>
                  (</code></td><td><var class="pdparam">appender</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam">email</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam">resource</var><code>)</code>;</td><td> </td></tr></table><table border="0" summary="Function argument synopsis" cellspacing="0" cellpadding="0"><tr><td>string  </td><td><var class="pdparam">appender</var>;</td></tr><tr><td>string  </td><td><var class="pdparam">email</var>;</td></tr><tr><td>boolean  </td><td><var class="pdparam">resource</var> (optional) [default=true];</td></tr></table></div>
              <p>Set the to address for the given appender</p>
              <div class="funcsynopsis"><pre class="funcsynopsisinfo">appender_smtp_setTo myAppender user@example.com</pre></div>
            </td></tr></tbody></table></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2511842"></a>7. SyslogAppender</h2></div></div></div><div class="table"><a name="id2511848"></a><p class="title"><b>Table 5.7. SyslogAppender</b></p><table summary="SyslogAppender" border="1"><colgroup><col><col></colgroup><tbody><tr valign="top"><td align="right" valign="top">
              <code class="code">string</code>
            </td><td valign="top">
              <div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" style="padding-bottom: 1em"><tr><td><code class="funcdef">
                    <b class="fsfunc">_appender_syslog_getFacilityByIndex</b>
                  (</code></td><td><var class="pdparam">index</var><code>)</code>;</td><td> </td></tr></table><table border="0" summary="Function argument synopsis" cellspacing="0" cellpadding="0"><tr><td>integer  </td><td><var class="pdparam">index</var>;</td></tr></table></div>
              <p>Get the syslog facility of the specified appender by index</p>
              <div class="funcsynopsis"><pre class="funcsynopsisinfo">
      facility=`_appender_syslog_getFacilityByIndex 3`
    </pre></div>
            </td></tr><tr valign="top"><td align="right" valign="top">
              <code class="code">string</code>
            </td><td valign="top">
              <div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" style="padding-bottom: 1em"><tr><td><code class="funcdef">
                    <b class="fsfunc">appender_getSyslogFacility</b>
                  (</code></td><td><var class="pdparam">index</var><code>)</code>;</td><td> </td></tr></table><table border="0" summary="Function argument synopsis" cellspacing="0" cellpadding="0"><tr><td>integer  </td><td><var class="pdparam">index</var>;</td></tr></table></div>
              <p><span class="emphasis"><em>(deprecated)</em></span> Get the syslog facility of the
    specified appender by index</p>
              <div class="funcsynopsis"><pre class="funcsynopsisinfo">facility=`appender_getSyslogFacility 3`</pre></div>
            </td></tr><tr valign="top"><td align="right" valign="top">
              <code class="code">void</code>
            </td><td valign="top">
              <div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" style="padding-bottom: 1em"><tr><td><code class="funcdef">
                    <b class="fsfunc">appender_setSyslogFacility</b>
                  (</code></td><td><var class="pdparam">appender</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam">facility</var><code>)</code>;</td><td> </td></tr></table><table border="0" summary="Function argument synopsis" cellspacing="0" cellpadding="0"><tr><td>string  </td><td><var class="pdparam">appender</var>;</td></tr><tr><td>string  </td><td><var class="pdparam">facility</var>;</td></tr></table></div>
              <p><span class="emphasis"><em>(deprecated)</em></span> Set the syslog facility for the
    given appender</p>
              <div class="funcsynopsis"><pre class="funcsynopsisinfo">appender_setSyslogFacility myAppender local4`</pre></div>
            </td></tr><tr valign="top"><td align="right" valign="top">
              <code class="code">void</code>
            </td><td valign="top">
              <div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" style="padding-bottom: 1em"><tr><td><code class="funcdef">
                    <b class="fsfunc">appender_syslog_getFacility</b>
                  (</code></td><td><var class="pdparam">appender</var><code>)</code>;</td><td> </td></tr></table><table border="0" summary="Function argument synopsis" cellspacing="0" cellpadding="0"><tr><td>string  </td><td><var class="pdparam">appender</var>;</td></tr></table></div>
              <p>Get the syslog facility for the given appender</p>
              <div class="funcsynopsis"><pre class="funcsynopsisinfo">facility=`appender_syslog_getFacility myAppender`</pre></div>
            </td></tr><tr valign="top"><td align="right" valign="top">
              <code class="code">string</code>
            </td><td valign="top">
              <div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" style="padding-bottom: 1em"><tr><td><code class="funcdef">
                    <b class="fsfunc">appender_syslog_getFacility</b>
                  (</code></td><td><var class="pdparam">appender</var><code>)</code>;</td><td> </td></tr></table><table border="0" summary="Function argument synopsis" cellspacing="0" cellpadding="0"><tr><td>string  </td><td><var class="pdparam">appender</var>;</td></tr></table></div>
              <p><span class="emphasis"><em>(deprecated)</em></span> Get the syslog facility for the
    given appender</p>
              <div class="funcsynopsis"><pre class="funcsynopsisinfo">facility=`appender_syslog_getFacilityByName myAppender`</pre></div>
            </td></tr><tr valign="top"><td align="right" valign="top">
              <code class="code">string</code>
            </td><td valign="top">
              <div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" style="padding-bottom: 1em"><tr><td><code class="funcdef">
                    <b class="fsfunc">appender_syslog_getFacilityByIndex</b>
                  (</code></td><td><var class="pdparam">index</var><code>)</code>;</td><td> </td></tr></table><table border="0" summary="Function argument synopsis" cellspacing="0" cellpadding="0"><tr><td>integer  </td><td><var class="pdparam">index</var>;</td></tr></table></div>
              <p><span class="emphasis"><em>(deprecated)</em></span> Get the syslog facility of the
    specified appender by index</p>
              <div class="funcsynopsis"><pre class="funcsynopsisinfo">facility=`appender_syslog_getFacilityByIndex 3`</pre></div>
            </td></tr><tr valign="top"><td align="right" valign="top">
              <code class="code">string</code>
            </td><td valign="top">
              <div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" style="padding-bottom: 1em"><tr><td><code class="funcdef">
                    <b class="fsfunc">appender_syslog_getHost</b>
                  (</code></td><td><var class="pdparam">index</var><code>)</code>;</td><td> </td></tr></table><table border="0" summary="Function argument synopsis" cellspacing="0" cellpadding="0"><tr><td>integer  </td><td><var class="pdparam">index</var>;</td></tr></table></div>
              <p>TODO: Get the syslog host of the specified appender</p>
              <div class="funcsynopsis"><pre class="funcsynopsisinfo">host=`appender_syslog_getHost myAppender`</pre></div>
            </td></tr><tr valign="top"><td align="right" valign="top">
              <code class="code">void</code>
            </td><td valign="top">
              <div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" style="padding-bottom: 1em"><tr><td><code class="funcdef">
                    <b class="fsfunc">appender_syslog_setFacility</b>
                  (</code></td><td><var class="pdparam">appender</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam">facility</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam">resource</var><code>)</code>;</td><td> </td></tr></table><table border="0" summary="Function argument synopsis" cellspacing="0" cellpadding="0"><tr><td>string  </td><td><var class="pdparam">appender</var>;</td></tr><tr><td>string  </td><td><var class="pdparam">facility</var>;</td></tr><tr><td>boolean  </td><td><var class="pdparam">resource</var> (optional) [default=true];</td></tr></table></div>
              <p>Set the syslog facility for the given appender</p>
              <div class="funcsynopsis"><pre class="funcsynopsisinfo">appender_syslog_setFacility myAppender local4`</pre></div>
            </td></tr><tr valign="top"><td align="right" valign="top">
              <code class="code">void</code>
            </td><td valign="top">
              <div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" style="padding-bottom: 1em"><tr><td><code class="funcdef">
                    <b class="fsfunc">appender_syslog_setHost</b>
                  (</code></td><td><var class="pdparam">appender</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam">host</var><code>)</code>;</td><td> </td></tr></table><table border="0" summary="Function argument synopsis" cellspacing="0" cellpadding="0"><tr><td>string  </td><td><var class="pdparam">appender</var>;</td></tr><tr><td>string  </td><td><var class="pdparam">host</var>;</td></tr></table></div>
              <p>TODO: Set the syslog host for the given appender</p>
              <div class="funcsynopsis"><pre class="funcsynopsisinfo">appender_syslog_setHost myAppender localhost`</pre></div>
            </td></tr></tbody></table></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2512376"></a>8. Threads</h2></div></div></div><div class="table"><a name="id2512382"></a><p class="title"><b>Table 5.8. Threads</b></p><table summary="Threads" border="1"><colgroup><col><col></colgroup><tbody><tr valign="top"><td align="right" valign="top">
              <code class="code">string</code>
            </td><td valign="top">
              <div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" style="padding-bottom: 1em"><tr><td><code class="funcdef">
                    <b class="fsfunc">logger_getThreadName</b>
                  (</code></td><td><code>)</code>;</td><td> </td></tr></table></div>
              <p>Gets the current thread name.</p>
              <div class="funcsynopsis"><pre class="funcsynopsisinfo">threadName=`logger_getThreadName`</pre></div>
            </td></tr><tr valign="top"><td align="right" valign="top">
              <span class="emphasis"><em>void</em></span>
            </td><td valign="top">
              <div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" style="padding-bottom: 1em"><tr><td><code class="funcdef">
                    <b class="fsfunc">logger_popThreadName</b>
                  (</code></td><td><code>)</code>;</td><td> </td></tr></table></div>
              <p>Removes the topmost thread name from the stack.  The next thread name
  on the stack is then placed in the __log4shThreadName variable.  If the
  stack is empty, or has only one element left, then a warning is given that
  no more thread names can be popped from the stack.</p>
              <div class="funcsynopsis"><pre class="funcsynopsisinfo">logger_popThreadName</pre></div>
            </td></tr><tr valign="top"><td align="right" valign="top">
              <span class="emphasis"><em>void</em></span>
            </td><td valign="top">
              <div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" style="padding-bottom: 1em"><tr><td><code class="funcdef">
                    <b class="fsfunc">logger_pushThreadName</b>
                  (</code></td><td><var class="pdparam">threadName</var><code>)</code>;</td><td> </td></tr></table><table border="0" summary="Function argument synopsis" cellspacing="0" cellpadding="0"><tr><td>string  </td><td><var class="pdparam">threadName</var>;</td></tr></table></div>
              <p>Sets the thread name (eg. the name of the script) and pushes the old
  on to a stack for later use.  This thread name can be used with the '%t'
  conversion character within a PatternLayout.</p>
              <div class="funcsynopsis"><pre class="funcsynopsisinfo">logger_pushThreadName "myThread"</pre></div>
            </td></tr><tr valign="top"><td align="right" valign="top">
              <span class="emphasis"><em>void</em></span>
            </td><td valign="top">
              <div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" style="padding-bottom: 1em"><tr><td><code class="funcdef">
                    <b class="fsfunc">logger_setThreadName</b>
                  (</code></td><td><var class="pdparam">threadName</var><code>)</code>;</td><td> </td></tr></table><table border="0" summary="Function argument synopsis" cellspacing="0" cellpadding="0"><tr><td>string  </td><td><var class="pdparam">threadName</var>;</td></tr></table></div>
              <p>Sets the thread name (e.g. the name of the script).  This thread name
  can be used with the '%t' conversion character within a
  PatternLayout.</p>
              <div class="funcsynopsis"><pre class="funcsynopsisinfo">logger_setThreadName "myThread"</pre></div>
            </td></tr></tbody></table></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2512602"></a>9. arrays</h2></div></div></div><div class="table"><a name="id2512608"></a><p class="title"><b>Table 5.9. arrays</b></p><table summary="arrays" border="1"><colgroup><col><col></colgroup><tbody><tr valign="top"><td align="right" valign="top">
              <code class="code">integer</code>
            </td><td valign="top">
              <div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" style="padding-bottom: 1em"><tr><td><code class="funcdef">
                    <b class="fsfunc">_log4sh_findArrayElement</b>
                  (</code></td><td><var class="pdparam">array</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam">element</var><code>)</code>;</td><td> </td></tr></table><table border="0" summary="Function argument synopsis" cellspacing="0" cellpadding="0"><tr><td>string[]  </td><td><var class="pdparam">array</var>;</td></tr><tr><td>string  </td><td><var class="pdparam">element</var>;</td></tr></table></div>
              <p>Find the position of element in an array</p>
              <div class="funcsynopsis"><pre class="funcsynopsisinfo">
      pos=`_log4sh_findArrayElement "$array" $element`
    </pre></div>
            </td></tr><tr valign="top"><td align="right" valign="top">
              <code class="code">string</code>
            </td><td valign="top">
              <div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" style="padding-bottom: 1em"><tr><td><code class="funcdef">
                    <b class="fsfunc">_log4sh_getArrayElement</b>
                  (</code></td><td><var class="pdparam">array</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam">position</var><code>)</code>;</td><td> </td></tr></table><table border="0" summary="Function argument synopsis" cellspacing="0" cellpadding="0"><tr><td>string[]  </td><td><var class="pdparam">array</var>;</td></tr><tr><td>integer  </td><td><var class="pdparam">position</var>;</td></tr></table></div>
              <p>Retrieve the element at the given position from an array</p>
              <div class="funcsynopsis"><pre class="funcsynopsisinfo">element=`_log4sh_getArrayElement "$array" $position`</pre></div>
            </td></tr><tr valign="top"><td align="right" valign="top">
              <code class="code">integer</code>
            </td><td align="left" valign="top">
              <div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" style="padding-bottom: 1em"><tr><td><code class="funcdef">
                    <b class="fsfunc">_log4sh_getArrayLength</b>
                  (</code></td><td><var class="pdparam">array</var><code>)</code>;</td><td> </td></tr></table><table border="0" summary="Function argument synopsis" cellspacing="0" cellpadding="0"><tr><td>string[]  </td><td><var class="pdparam">array</var>;</td></tr></table></div>
              <p>Get the length of an array</p>
              <div class="funcsynopsis"><pre class="funcsynopsisinfo">length=`_log4sh_getArrayLength "$array"`</pre></div>
            </td></tr><tr valign="top"><td align="right" valign="top">
              <code class="code">string</code>
            </td><td valign="top">
              <div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" style="padding-bottom: 1em"><tr><td><code class="funcdef">
                    <b class="fsfunc">_log4sh_peekStack</b>
                  (</code></td><td><var class="pdparam">array</var><code>)</code>;</td><td> </td></tr></table><table border="0" summary="Function argument synopsis" cellspacing="0" cellpadding="0"><tr><td>string[]  </td><td><var class="pdparam">array</var>;</td></tr></table></div>
              <p>Return the topmost element on a stack without removing the
  element.</p>
              <div class="funcsynopsis"><pre class="funcsynopsisinfo">element=`_log4sh_peekStack "$array"`</pre></div>
            </td></tr><tr valign="top"><td align="right" valign="top">
              <code class="code">string[]</code>
            </td><td valign="top">
              <div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" style="padding-bottom: 1em"><tr><td><code class="funcdef">
                    <b class="fsfunc">_log4sh_popStack</b>
                  (</code></td><td><var class="pdparam">array</var><code>)</code>;</td><td> </td></tr></table><table border="0" summary="Function argument synopsis" cellspacing="0" cellpadding="0"><tr><td>string[]  </td><td><var class="pdparam">array</var>;</td></tr></table></div>
              <p>Remove the top-most element from a stack.  This command takes a
  normal log4sh string array as input, but treats it as though it were a
  stack.</p>
              <div class="funcsynopsis"><pre class="funcsynopsisinfo">newArray=`_log4sh_popStack "$array"`</pre></div>
            </td></tr><tr valign="top"><td align="right" valign="top">
              <code class="code">string</code>
            </td><td valign="top">
              <div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" style="padding-bottom: 1em"><tr><td><code class="funcdef">
                    <b class="fsfunc">_log4sh_pushStack</b>
                  (</code></td><td><var class="pdparam">array</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam">element</var><code>)</code>;</td><td> </td></tr></table><table border="0" summary="Function argument synopsis" cellspacing="0" cellpadding="0"><tr><td>string[]  </td><td><var class="pdparam">array</var>;</td></tr><tr><td>string  </td><td><var class="pdparam">element</var>;</td></tr></table></div>
              <p>Add a new element to the top of a stack.  This command takes a normal
  log4sh string array as input, but treats it as though it were a
  stack.</p>
              <div class="funcsynopsis"><pre class="funcsynopsisinfo">newArray=`_log4sh_pushStack "$array" $element`</pre></div>
            </td></tr><tr valign="top"><td align="right" valign="top">
              <code class="code">string[]</code>
            </td><td valign="top">
              <div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" style="padding-bottom: 1em"><tr><td><code class="funcdef">
                    <b class="fsfunc">_log4sh_setArrayElement</b>
                  (</code></td><td><var class="pdparam">array</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam">position</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam">element</var><code>)</code>;</td><td> </td></tr></table><table border="0" summary="Function argument synopsis" cellspacing="0" cellpadding="0"><tr><td>string[]  </td><td><var class="pdparam">array</var>;</td></tr><tr><td>integer  </td><td><var class="pdparam">position</var>;</td></tr><tr><td>string  </td><td><var class="pdparam">element</var>;</td></tr></table></div>
              <p>Place an element at a given location in an array</p>
              <div class="funcsynopsis"><pre class="funcsynopsisinfo">newArray=`_log4sh_setArrayElement "$array" $position $element`</pre></div>
            </td></tr></tbody></table></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2513032"></a>10. miscellaneous</h2></div></div></div><div class="table"><a name="id2513037"></a><p class="title"><b>Table 5.10. miscellaneous</b></p><table summary="miscellaneous" border="1"><colgroup><col><col></colgroup><tbody><tr valign="top"><td align="right" valign="top">
              <span class="emphasis"><em>void</em></span>
            </td><td valign="top">
              <div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" style="padding-bottom: 1em"><tr><td><code class="funcdef">
                    <b class="fsfunc">_log4sh_cleanup</b>
                  (</code></td><td><var class="pdparam">signal</var><code>)</code>;</td><td> </td></tr></table><table border="0" summary="Function argument synopsis" cellspacing="0" cellpadding="0"><tr><td>string  </td><td><var class="pdparam">signal</var>;</td></tr></table></div>
              <p>This is a cleanup function to remove the temporary directory used by
  log4sh.  It should only be called by log4sh itself when it is taking
  control of traps.</p>
              <p>If there was a previously defined trap for the given signal, log4sh
  will attempt to call the original trap handler as well so as not to break
  the parent script.</p>
              <div class="funcsynopsis"><pre class="funcsynopsisinfo">_log4sh_cleanup EXIT</pre></div>
            </td></tr><tr valign="top"><td align="right" valign="top">
              <code class="code">string</code>
            </td><td valign="top">
              <div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" style="padding-bottom: 1em"><tr><td><code class="funcdef">
                    <b class="fsfunc">_log4sh_level2tag</b>
                  (</code></td><td><var class="pdparam">level</var><code>)</code>;</td><td> </td></tr></table><table border="0" summary="Function argument synopsis" cellspacing="0" cellpadding="0"><tr><td>integer  </td><td><var class="pdparam">level</var>;</td></tr></table></div>
              <p>Converts an internally used level constant into its external tag
  equivalent</p>
              <div class="funcsynopsis"><pre class="funcsynopsisinfo">tag=`_log4sh_level2tag 3`</pre></div>
            </td></tr><tr valign="top"><td align="right" valign="top">
              <code class="code">string</code>
            </td><td valign="top">
              <div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" style="padding-bottom: 1em"><tr><td><code class="funcdef">
                    <b class="fsfunc">_log4sh_mktempDir</b>
                  (</code></td><td><code>)</code>;</td><td> </td></tr></table></div>
              <p>Creates a secure temporary directory within which temporary files can
    be created.  Honors the TMPDIR environment variable if it is set.</p>
              <div class="funcsynopsis"><pre class="funcsynopsisinfo">tmpDir=`_log4sh_mktempDir`</pre></div>
            </td></tr><tr valign="top"><td align="right" valign="top">
              <code class="code">integer</code>
            </td><td valign="top">
              <div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" style="padding-bottom: 1em"><tr><td><code class="funcdef">
                    <b class="fsfunc">_log4sh_tag2level</b>
                  (</code></td><td><var class="pdparam">tag</var><code>)</code>;</td><td> </td></tr></table><table border="0" summary="Function argument synopsis" cellspacing="0" cellpadding="0"><tr><td>string  </td><td><var class="pdparam">tag</var>;</td></tr></table></div>
              <p>Converts an externally used level tag into its internal constant
  equivalent</p>
              <div class="funcsynopsis"><pre class="funcsynopsisinfo">level=`_log4sh_tag2level WARN`</pre></div>
            </td></tr><tr valign="top"><td align="right" valign="top">
              <span class="emphasis"><em>void</em></span>
            </td><td valign="top">
              <div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" style="padding-bottom: 1em"><tr><td><code class="funcdef">
                    <b class="fsfunc">log4sh_cleanup</b>
                  (</code></td></tr></table></div>
              <p>This is a cleanup function to remove the temporary directory used by
  log4sh.  It is provided for scripts who want to do log4sh cleanup work
  themselves rather than using the automated cleanup of log4sh that is
  invoked upon a normal exit of the script.</p>
              <div class="funcsynopsis"><pre class="funcsynopsisinfo">log4sh_cleanup</pre></div>
            </td></tr></tbody></table></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2513313"></a>11. properties</h2></div></div></div><div class="table"><a name="id2513318"></a><p class="title"><b>Table 5.11. properties</b></p><table summary="properties" border="1"><colgroup><col><col></colgroup><tbody><tr valign="top"><td align="right" valign="top">
              <code class="code">string</code>
            </td><td valign="top">
              <div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" style="padding-bottom: 1em"><tr><td><code class="funcdef">
                    <b class="fsfunc">_log4sh_getPropPrefix</b>
                  (</code></td><td><var class="pdparam">property</var><code>)</code>;</td><td> </td></tr></table><table border="0" summary="Function argument synopsis" cellspacing="0" cellpadding="0"><tr><td>string  </td><td><var class="pdparam">property</var>;</td></tr></table></div>
              <p>Takes a string (eg. "log4sh.appender.stderr.File") and returns the
  prefix of it (everything before the first '.' char).  Normally used in
  parsing the log4sh configuration file.</p>
              <div class="funcsynopsis"><pre class="funcsynopsisinfo">prefix=`_log4sh_getPropPrefix $property"`</pre></div>
            </td></tr><tr valign="top"><td align="right" valign="top">
              <span class="emphasis"><em>void</em></span>
            </td><td valign="top">
              <div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" style="padding-bottom: 1em"><tr><td><code class="funcdef">
                    <b class="fsfunc">_log4sh_propAppender</b>
                  (</code></td><td><var class="pdparam">property</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam">value</var><code>)</code>;</td><td> </td></tr></table><table border="0" summary="Function argument synopsis" cellspacing="0" cellpadding="0"><tr><td>string  </td><td><var class="pdparam">property</var>;</td></tr><tr><td>string  </td><td><var class="pdparam">value</var>;</td></tr></table></div>
              <p>Configures log4sh using an appender property configuration statement</p>
              <div class="funcsynopsis"><pre class="funcsynopsisinfo">_log4sh_propAppender $property $value</pre></div>
            </td></tr><tr valign="top"><td align="right" valign="top">
              <code class="code">string</code>
            </td><td valign="top">
              <div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" style="padding-bottom: 1em"><tr><td><code class="funcdef">
                    <b class="fsfunc">_log4sh_propLogger</b>
                  (</code></td><td><var class="pdparam">property</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam">value</var><code>)</code>;</td><td> </td></tr></table><table border="0" summary="Function argument synopsis" cellspacing="0" cellpadding="0"><tr><td>string  </td><td><var class="pdparam">property</var>;</td></tr><tr><td>string  </td><td><var class="pdparam">value</var>;</td></tr></table></div>
              <p>(future) Configures log4sh with a <code class="code">logger</code> configuration
  statement.  Sample output: "logger: property value".</p>
              <div class="funcsynopsis"><pre class="funcsynopsisinfo">result=`_log4sh_propLogger $property $value`</pre></div>
            </td></tr><tr valign="top"><td align="right" valign="top">
              <span class="emphasis"><em>void</em></span>
            </td><td valign="top">
              <div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" style="padding-bottom: 1em"><tr><td><code class="funcdef">
                    <b class="fsfunc">_log4sh_propRootLogger</b>
                  (</code></td><td><var class="pdparam">rootLogger</var><code>)</code>;</td><td> </td></tr></table><table border="0" summary="Function argument synopsis" cellspacing="0" cellpadding="0"><tr><td>string  </td><td><var class="pdparam">rootLogger</var>;</td></tr></table></div>
              <p>Configures log4sh with a <code class="code">rootLogger</code> configuration
  statement.  It expects a comma separated string similar to the following:</p>
              <p>
                <code class="code">log4sh.rootLogger=ERROR, stderr, R</code>
              </p>
              <p>The first option is the default logging level to set for all
  of the following appenders that will be created, and all following options
  are the names of appenders to create.  The appender names must be
  unique.</p>
              <div class="funcsynopsis"><pre class="funcsynopsisinfo">_log4sh_propRootLogger $value</pre></div>
            </td></tr><tr valign="top"><td align="right" valign="top">
              <code class="code">string</code>
            </td><td valign="top">
              <div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" style="padding-bottom: 1em"><tr><td><code class="funcdef">
                    <b class="fsfunc">_log4sh_stripPropPrefix</b>
                  (</code></td><td><var class="pdparam">property</var><code>)</code>;</td><td> </td></tr></table><table border="0" summary="Function argument synopsis" cellspacing="0" cellpadding="0"><tr><td>string  </td><td><var class="pdparam">property</var>;</td></tr></table></div>
              <p>Strips the prefix off a property configuration command and returns
  the string.  E.g. "log4sh.appender.stderr.File" becomes
  "appender.stderr.File".</p>
              <div class="funcsynopsis"><pre class="funcsynopsisinfo">newProperty=`_log4sh_stripPropPrefix $property`</pre></div>
            </td></tr><tr valign="top"><td align="right" valign="top">
              <span class="emphasis"><em>void</em></span>
            </td><td valign="top">
              <div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" style="padding-bottom: 1em"><tr><td><code class="funcdef">
                    <b class="fsfunc">log4sh_readProperties</b>
                  (</code></td><td><var class="pdparam">filename</var><code>)</code>;</td><td> </td></tr></table><table border="0" summary="Function argument synopsis" cellspacing="0" cellpadding="0"><tr><td>string  </td><td><var class="pdparam">filename</var>;</td></tr></table></div>
              <p>Reads a properties file and calls appropriate configuration
  functions.</p>
              <div class="funcsynopsis"><pre class="funcsynopsisinfo">pos=`_log4sh_findArrayElement "$array" $element`</pre></div>
            </td></tr></tbody></table></div></div></div><div class="chapter" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a name="conclusion"></a>Chapter 6. Conclusion</h2></div></div></div><p>The idea of log4sh is obviously not novel, but the availibility of such a powerful logging framework that is available in (nearly) pure shell is.  Hopefully you will find it useful in one of your projects as well.</p><p>If you like what you see, or have any suggestions on improvements, please feel free to drop me an email at <code class="email">&lt;<a href="mailto:kate.ward@forestent.com">kate.ward@forestent.com</a>&gt;</code>.</p><p>Log4sh is licensed under the GNU Lesser Public License.  The contents and copyright of this document and all provided source code are owned by Kate Ward.</p></div></div></body></html>
