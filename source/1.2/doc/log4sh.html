<html><head><META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>log4sh</title><link href="style.css" rel="stylesheet" type="text/css"><meta content="DocBook XSL Stylesheets V1.67.2" name="generator"><meta name="description" content="log4sh is a logging framework for shell scripts that works similar to the other wonderful logging products available from the Apache Software Foundataion (eg. log4j, log4perl). Although not as powerful as the others, it can make the task of adding advanced logging to shell scripts easier.  It has much more power than just using simple &quot;echo&quot; commands throughout.  In addition, it can be configured from a properties file so that scripts in a production environment do not need to be altered to change the amount of logging they produce."></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="article" lang="en"><div class="titlepage"><div><div><h1 class="title"><a name="index"></a>log4sh</h1></div><div><div class="author"><h3 class="author"><span class="firstname">Kate</span> <span class="surname">Ward</span></h3><div class="affiliation"><div class="address"><p><span style="white-space: pre;">
        
        <code class="email">&lt;<a href="mailto:kate.ward@forestent.com">kate.ward@forestent.com</a>&gt;</code>
      </span></p></div></div></div></div><div><p class="pubdate">2004-12-31</p></div><div><div class="revhistory"><table summary="Revision history" width="100%" border="1"><tr><th colspan="3" valign="top" align="left"><b>Revision History</b></th></tr><tr><td align="left">Revision 1.2.4</td><td align="left">2004-12-28</td><td align="left">kwa</td></tr><tr><td colspan="3" align="left">Initial DocBook conversion.</td></tr></table></div></div><div><div class="abstract"><p class="title"><b>Abstract</b></p><p>log4sh is a logging framework for shell scripts that works similar to the other wonderful <a href="http://logging.apache.org/" target="_top">logging products</a> available from the <a href="http://www.apache.org/" target="_top">Apache Software Foundataion</a> (eg. log4j, log4perl). Although not as powerful as the others, it can make the task of adding advanced logging to shell scripts easier.  It has much more power than just using simple "echo" commands throughout.  In addition, it can be configured from a properties file so that scripts in a production environment do not need to be altered to change the amount of logging they produce.</p></div></div></div><hr></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="#intro">1. Introduction</a></span></dt><dd><dl><dt><span class="section"><a href="#credits">1.1. Credits / Contributors</a></span></dt><dt><span class="section"><a href="#feedback">1.2. Feedback</a></span></dt></dl></dd><dt><span class="section"><a href="#quickstart">2. Quickstart</a></span></dt><dt><span class="section"><a href="#usage">3. Usage Guide</a></span></dt><dd><dl><dt><span class="section"><a href="#usage-preconfigure">3.1. Preconfigure log4sh</a></span></dt><dt><span class="section"><a href="#usage-source">3.2. Source log4sh</a></span></dt><dt><span class="section"><a href="#usage-code">3.3. Configure log4sh in code</a></span></dt><dt><span class="section"><a href="#usage-logging">3.4. Logging with log4sh</a></span></dt></dl></dd><dt><span class="section"><a href="#properties_file">4. Properties File Configuration</a></span></dt><dd><dl><dt><span class="section"><a href="#properties-root_logger">4.1. Root Logger</a></span></dt><dt><span class="section"><a href="#levels">4.2. Levels</a></span></dt><dt><span class="section"><a href="#appenders">4.3. Appenders</a></span></dt></dl></dd><dt><span class="section"><a href="#function_reference">5. Function Reference</a></span></dt><dd><dl><dt><span class="section"><a href="#function-root_logger">5.1. Root Logger</a></span></dt><dt><span class="section"><a href="#functions-appenders">5.2. Appenders</a></span></dt><dt><span class="section"><a href="#functions-logging">5.3. Logging</a></span></dt></dl></dd><dt><span class="section"><a href="#misc_info">6. Miscellaneous Info</a></span></dt></dl></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="intro"></a>1.&nbsp;Introduction</h2></div></div></div><p>Log4sh has been developed under the Bourne Again Shell (<span><strong class="command">bash</strong></span>) on Linux, but great care has been taken to make sure it works under the default Bourne Shell of Solaris (<span><strong class="command">sh</strong></span>) as this happens to be the primary platform used by myself.</p><p><div class="blockquote"><blockquote class="blockquote"><div class="blockquote-title"><p><b>Tested Operating Systems</b></p></div><div class="itemizedlist"><ul type="disc"><li><p>Linux</p></li><li><p>Solaris 8, 9, 10</p></li></ul></div></blockquote></div></p><p><div class="blockquote"><blockquote class="blockquote"><div class="blockquote-title"><p><b>Tested Shells</b></p></div><div class="itemizedlist"><ul type="disc"><li><p>Bourne Shell (<span><strong class="command">sh</strong></span>)</p></li><li><p>Bourne Again Shell (<span><strong class="command">bash</strong></span>)</p></li></ul></div></blockquote></div></p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="credits"></a>1.1.&nbsp;Credits / Contributors</h3></div></div></div><p>In this document, I have the pleasure of acknowledging:</p><div class="itemizedlist"><ul type="disc"><li><p>Nobody in particular</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="feedback"></a>1.2.&nbsp;Feedback</h3></div></div></div><p>Feedback is most certainly welcome for this document. Send your additions, comments and criticisms to the following email address: <code class="email">&lt;<a href="mailto:kate.ward@forestent.com">kate.ward@forestent.com</a>&gt;</code>.</p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="quickstart"></a>2.&nbsp;Quickstart</h2></div></div></div><p>To get started quickly with log4sh, take a look at the <code class="filename">test-log4sh</code> sample script in the <code class="filename">src/test</code> directory of the distribution.  You will need to copy the <code class="filename">log4sh</code> script itself from the <code class="filename">src/shell</code> directory into the <code class="filename">test</code> directory before running the test.  This test script is designed to configure log4sh via code.  Later on, we will configure log4sh with a properties file, very similar to how log4j is configured.</p><p>By default, log4sh is configured with a <code class="constant">ConsoleAppender</code> which logs to STDOUT using a <code class="constant">SimpleLayout</code> and a logging level of <code class="constant">ERROR</code>.  If no configuration file is found, a warning message will be given letting the user know that no configuration file was found.  This warning can be supressed by setting the <code class="varname">LOG4SH_CONFIGURATION</code> environment variable to <code class="literal">none</code>.</p><p>Run the first test.</p><div class="example"><a name="N100AF"></a><p class="title"><b>Example&nbsp;1.&nbsp;Test #1</b></p><pre class="screen">
$ ./test-log4sh
</pre></div><p>After a first run you will see quite a bit of output to the display, and as well two log files will be created (<code class="filename">log4sh-pattern.log</code> and <code class="filename">log4sh-simple.log</code>).  The display contains a mix of output to STDOUT and STDERR, and the files contain various versions of the same data, but with output that changes as various layouts and patterns are tested.  To clean up the display a bit, you could send all of the output of the STDERR appender off to <code class="filename">/dev/null</code>.</p><p>Run the test again, but redirecting STDERR to <code class="filename">/dev/null</code>.</p><div class="example"><a name="N100C9"></a><p class="title"><b>Example&nbsp;2.&nbsp;Test #2</b></p><pre class="screen">
$ ./test-log4sh 2&gt;/dev/null
</pre></div><p>Go ahead a take a look at the test script to get a feel of what the script is trying to accomplish.  Hopefully, you can see just how simple log4sh is to use and control.</p><p>For our next test, we will configure log4sh with a properties file.  This test is incredibly simple as it is designed to show the power of the properties file.   Copy first example properties file <code class="filename">log4sh.properties.ex1</code> from the <code class="filename">src/examples</code> directory into the <code class="filename">test</code> directory, and give it the name <code class="filename">log4sh.properties</code>.</p><p>Run the second test.</p><div class="example"><a name="N100E8"></a><p class="title"><b>Example&nbsp;3.&nbsp;Test #3</b></p><pre class="screen">
$ ./test-properties
</pre></div><p>This test is designed to look very much like one of the log4j examples.  The properties file is taken almost verbatum from the log4j short manual, with only small changes required to make it work for log4sh.  Log4sh is configured with a <code class="constant">ConsoleAppender</code> that has a <code class="constant">PatternLayout</code>.  One limitation of log4sh is that it does not have access to a timer with millisecond accuracy, so it logs only with an accuracy of one second.  For most situations, this should be sufficient.</p><p>Copy the second example properties file (<code class="filename">log4sh.properties.ex2</code>) as <code class="filename">log4sh.properties</code>, and rerun the test.  This second properties file is only slightly different from the first in that it adds the filename to the output, and removes the <code class="option">%x</code> pattern directive as that directive is not supported by log4sh.</p><p>The next example shows a typical situation where an administrator wants to run a script via a cron job, wants a log of the scripts actions, but only wants an email if the job failed.</p><p>Copy the third example properies file (<code class="filename">log4sh.properties.ex3</code>) over, and rerun the test.  This time, the output will be sent to two separate locations; STDERR and a file called <code class="filename">example.log</code>.  The output to STDERR is set to the <code class="constant">ERROR</code> level, and output sent to the file is at the <code class="constant">INFO</code> level.  More output is written to the logfile (as expected) when the test is run.</p><p>In the situation of being run from a cron job, the logfile will always be written, but an email comes only when output from the script came at the <code class="constant">ERROR</code> or <code class="constant">FATAL</code> level.  An administrator can even configure the <code class="filename">log4sh.properties</code> file to a <code class="constant">DEBUG</code> level so that more output is logged for testing or debugging purposes, and this change can happen without making any code changes to the script.  Something very useful in a production environment!</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="usage"></a>3.&nbsp;Usage Guide</h2></div></div></div><p>The usage of log4sh is simple.  There are only a few simple steps required to setup and use log4sh in your application.</p><p>
    <div class="orderedlist"><ol type="1" compact="compact"><li><p>preconfigure log4sh (properties file)</p></li><li><p>source the log4sh script code</p></li><li><p>configure log4sh in code (optional)</p></li><li><p>call logging statements</p></li></ol></div>
  </p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="usage-preconfigure"></a>3.1.&nbsp;Preconfigure log4sh</h3></div></div></div><p>To preconfigure log4sh, create a properties file (see the <a href="#properties_file" title="4.&nbsp;Properties File Configuration">Properties File Configuration</a> later in this document).  Optionally set the <code class="varname">LOG4SH_CONFIGURATION</code> environment variable to point log4sh to the configuration file.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="usage-source"></a>3.2.&nbsp;Source log4sh</h3></div></div></div><p>To source the code into your script (also known as including), one uses the sourcing ability of shell to source one script into another.  See the following quick example for how easy this is done.</p><div class="example"><a name="N10153"></a><p class="title"><b>Example&nbsp;4.&nbsp;Sourcing external shell code into current program</b></p><pre class="programlisting">
#! /bin/sh

# source log4sh from current directory
. ./log4sh
</pre></div><p>Here is some sample code that looks for log4sh in the same directory as the script is located, as well as the current directory.  If log4sh could not be found, it exits with an error.  If log4sh is found, it is loaded, along with the <code class="filename">log4sh.properties</code> file in the current directory (see the following example).  It then logs a message at the <code class="constant">INFO</code> level to STDOUT.</p><div class="example"><a name="N10162"></a><p class="title"><b>Example&nbsp;5.&nbsp;Hello, world (using properties)</b></p><pre class="programlisting">
#! /bin/sh
#
# log4sh example: Hello, world
#
myDir=`dirname $0`

# find and source log4sh
if [ -r "$myDir/log4sh" ]; then
  dir=$myDir
elif [ -r "./log4sh" ]; then
  dir=.
else
  echo "fatal: could not find log4sh" &gt;&amp;2
  exit 1
fi
. $dir/log4sh

# say Hello to the world
logger_info "Hello, world"
</pre></div><p>Here is the <code class="filename">log4sh.properties</code> file for the previous example.  Save it in the same directory you are running the above script from.</p><div class="example"><a name="N1016E"></a><p class="title"><b>Example&nbsp;6.&nbsp;Hello, world; properties file</b></p><pre class="programlisting">
#
# log4sh example: Hello, world properties file
#

# Set root logger level to DEBUG and its only appender to A1
log4sh.rootLogger=INFO, A1

# A1 is set to be a ConsoleAppender.
log4sh.appender.A1=ConsoleAppender

# A1 uses a PatternLayout.
log4sh.appender.A1.layout=PatternLayout
log4sh.appender.A1.layout.ConversionPattern=%r [%t] %p %c %x - %m%n
</pre></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="usage-code"></a>3.3.&nbsp;Configure log4sh in code</h3></div></div></div><p>To configure log4sh in code, simply call the appropriate functions in your code.  The following code sample loads log4sh from the current directory, configures it for STDERR output, and the logs a message at the <code class="constant">INFO</code> level.</p><div class="example"><a name="N1017E"></a><p class="title"><b>Example&nbsp;7.&nbsp;Hello, world (configured in code)</b></p><pre class="programlisting">
#! /bin/sh
#
# log4sh example: Hello, world
#

# source log4sh (disabling properties file warning)
LOG4SH_CONFIGURATION="none" . ./log4sh

# configure log4sh defaults
logger_setLevel INFO

# configure appenders
appender_setAppend stdout false
logger_addAppender stderr
appender_setAppenderType stderr FileAppender
appender_setAppenderFile stderr STDERR

# say Hello to the world
logger_info "Hello, world"
</pre></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="usage-logging"></a>3.4.&nbsp;Logging with log4sh</h3></div></div></div><p>Once log4sh is loaded, logging is as simple as calling the appropriate logging function with a message to be logged.  Take a look at the above examples to see just how easy it was to log the statement <code class="literal">"Hello, world"</code> at an <code class="constant">INFO</code> level.</p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="properties_file"></a>4.&nbsp;Properties File Configuration</h2></div></div></div><p>Log4sh can be configured with a properties file that is separate from the actual script where the logging takes place.  By default, log4sh looks for its properties file called <code class="filename">log4sh.properties</code> in the current directory.  If the file is located elsewhere or with a different name, log4sh can be configured by setting the <code class="varname">LOG4SH_CONFIGURATION</code> environment variable (eg. <code class="varname">LOG4SH_CONFIGURATION="/etc/log4sh.conf"</code>).</p><p>A <code class="filename">log4sh.properties</code> file that is completly empty is sufficient to configure log4sh.  There will be absolutely no output however (which might just be what is desired).  Usually though, some output is desired, so there is at least a recommended minimum configuration file.  An explaination of the file follows the example.</p><div class="example"><a name="N101A9"></a><p class="title"><b>Example&nbsp;8.&nbsp;Recommended minimum log4sh.properties file</b></p><pre class="programlisting">
log4sh.rootLogger=INFO, stdout
log4sh.appender.stdout=ConsoleAppender
</pre></div><p>In the first line, the root logger is configured by setting the default logging level, and defining the name of an appender.  In the second line, the stdout appender is defined as a <code class="constant">ConsoleAppender</code>.</p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="properties-root_logger"></a>4.1.&nbsp;Root Logger</h3></div></div></div><p>(future)</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="levels"></a>4.2.&nbsp;Levels</h3></div></div></div><div class="table"><a name="N101BE"></a><p class="title"><b>Table&nbsp;1.&nbsp;Logging Levels (from most output to least)</b></p><table summary="Logging Levels (from most output to least)" border="1"><colgroup><col><col></colgroup><thead><tr><th>Level</th><th>Definition</th></tr></thead><tbody><tr><td><code class="constant">ALL</code></td><td>The <code class="constant">ALL</code> level has the lowest possible rank and is intended to turn on all logging.</td></tr><tr><td><code class="constant">DEBUG</code></td><td>The <code class="constant">DEBUG</code> level designates fine-grained informational events that are most useful to debug an application.</td></tr><tr><td><code class="constant">INFO</code></td><td>The <code class="constant">INFO</code> level designates informational messages that highlight the progress of the application at coarse-grained level.</td></tr><tr><td><code class="constant">WARN</code></td><td>The <code class="constant">WARN</code> level designates potentially harmful situations.</td></tr><tr><td><code class="constant">ERROR</code></td><td>The <code class="constant">ERROR</code> level designates error events that might still allow the application to continue running.</td></tr><tr><td><code class="constant">FATAL</code></td><td>The <code class="constant">FATAL</code> level designates very severe error events that will presumably lead the application to abort.</td></tr><tr><td><code class="constant">OFF</code></td><td>The <code class="constant">OFF</code> level has the highest possible rank and is intended to turn off logging.</td></tr></tbody></table></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="appenders"></a>4.3.&nbsp;Appenders</h3></div></div></div><p>An appender name can be any alpha-numeric string containing no spaces.</p><div class="example"><a name="N1020F"></a><p class="title"><b>Example&nbsp;9.&nbsp;Sample appender names</b></p><p>myAppender - good</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="types"></a>4.3.1.&nbsp;Types</h4></div></div></div><p>An appender can be set to one of several different types.</p><div class="example"><a name="N1021A"></a><p class="title"><b>Example&nbsp;10.&nbsp;Setting an appender type</b></p><pre class="programlisting">
  log4sh.appender.A1=FileAppender
  </pre></div><div class="table"><a name="N10220"></a><p class="title"><b>Table&nbsp;2.&nbsp;Appender Types</b></p><table summary="Appender Types" border="1"><colgroup><col><col><col></colgroup><thead><tr><th>Type</th><th>Definition</th><th>Supported?</th></tr></thead><tbody><tr><td>ConsoleAppender</td><td>output sent to console (STDOUT)</td><td>yes</td></tr><tr><td>FileAppender</td><td>output sent to a file</td><td>yes</td></tr><tr><td>DailyRollingFileAppender</td><td>output sent to a file that rolls over daily</td><td>partial</td></tr><tr><td>RollingFileAppender</td><td>output sent to a file that rolls over by size</td><td>partial</td></tr></tbody></table></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="options"></a>4.3.2.&nbsp;Options</h4></div></div></div><p>An appender can take several different options.</p><div class="example"><a name="N10250"></a><p class="title"><b>Example&nbsp;11.&nbsp;Setting an appender option</b></p><pre class="programlisting">
  log4sh.appender.A1.File=output.log
  </pre></div><div class="table"><a name="N10256"></a><p class="title"><b>Table&nbsp;3.&nbsp;Appender Options</b></p><table summary="Appender Options" border="1"><colgroup><col><col><col></colgroup><thead><tr><th>Option</th><th>Definition</th><th>Supported?</th></tr></thead><tbody><tr><td>DatePattern</td><td>configure a pattern for the output filename</td><td>no (ignored)</td></tr><tr><td>File</td><td>output filename (special filename of STDERR used for logging to STDERR)</td><td>yes</td></tr><tr><td>MaxBackupIndex</td><td>number of old logfiles to keep</td><td>no (ignored)</td></tr><tr><td>MaxFileSize</td><td>maximum size of old logfiles</td><td>no (ignored)</td></tr><tr><td>Threshold</td><td>logging level of the appender</td><td>yes</td></tr></tbody></table></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="layouts"></a>4.3.3.&nbsp;Layouts</h4></div></div></div><p>An appender can be configured with various Layouts to customize how the output looks.</p><div class="example"><a name="N1028D"></a><p class="title"><b>Example&nbsp;12.&nbsp;Setting an appender's layout</b></p><pre class="programlisting">
  log4sh.appender.A1.layout=PatternLayout
  </pre></div><div class="table"><a name="N10293"></a><p class="title"><b>Table&nbsp;4.&nbsp;Layouts</b></p><table summary="Layouts" border="1"><colgroup><col><col><col></colgroup><thead><tr><th>Layout</th><th>Definition</th><th>Supported?</th></tr></thead><tbody><tr><td>HTMLLayout</td><td>layout using HTML</td><td>no (same as SimpleLayout)</td></tr><tr><td>SimpleLayout</td><td>a simple default layout ('%p - %m')</td><td>yes</td></tr><tr><td>PatternLayout</td><td>a patterned layout (default: '%d %p - %m%n')</td><td>yes</td></tr></tbody></table></div><p>An layout has many different options to configure how it appears.  These are known as patterns.</p><div class="example"><a name="N102B8"></a><p class="title"><b>Example&nbsp;13.&nbsp;Setting an appender's layout pattern</b></p><pre class="programlisting">
  log4sh.appender.A1.layout.ConversionPattern=%d [%p] %c - %m%n
  </pre></div><div class="table"><a name="N102BE"></a><p class="title"><b>Table&nbsp;5.&nbsp;Pattern Options</b></p><table summary="Pattern Options" border="1"><colgroup><col><col><col></colgroup><thead><tr><th>Option</th><th>Definition</th><th>Supported?</th></tr></thead><tbody><tr><td>%c</td><td>current class (not applicable in shell; always returns 'shell')</td><td>yes</td></tr><tr><td>%d</td><td>current date (see *NIX date man page; '%Y-%m-%d %H:%M:%S')</td><td>yes</td></tr><tr><td>%F</td><td>current script filename (default: `basename $0`)</td><td>yes</td></tr><tr><td>%L</td><td>current line number in script</td><td>no (ignored)</td></tr><tr><td>%m</td><td>logging message</td><td>yes</td></tr><tr><td>%n</td><td>OS specific line ending</td><td>no (ignored)</td></tr><tr><td>%p</td><td>logging level (aka priority)</td><td>yes</td></tr><tr><td>%r</td><td>number of seconds since script was started</td><td>partial (bash)</td></tr><tr><td>%t</td><td>current executing thread (default: 'main'; code changable)</td><td>yes</td></tr><tr><td>%x</td><td>unknown</td><td>no (ignored)</td></tr></tbody></table></div></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="function_reference"></a>5.&nbsp;Function Reference</h2></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="function-root_logger"></a>5.1.&nbsp;Root Logger</h3></div></div></div><div class="table"><a name="N1031B"></a><p class="title"><b>Table&nbsp;6.&nbsp;Configuring the root logger</b></p><table summary="Configuring the root logger" border="1"><colgroup><col><col><col></colgroup><thead><tr><th>Function</th><th>Definition</th><th>Example</th></tr></thead><tbody><tr><td>logger_addAppender</td><td>add an appender</td><td><code class="literal">logger_addAppender stdout</code></td></tr><tr><td>logger_addAppenderWithPattern</td><td>shortcut for adding an appender with a specific pattern layout</td><td><code class="literal">logger_addAppenderWithLayout myPattern '%d [%p] %m'</code></td></tr><tr><td>logger_setFilename</td><td>set the script filename for the %F pattern option</td><td><code class="literal">logger_setFilename "myFilename"</code></td></tr><tr><td>logger_getLevel</td><td>get the current root logger priority level</td><td><code class="literal">level=`logger_getLevel`</code></td></tr><tr><td>logger_setLevel</td><td>set the root logger priority level</td><td><code class="literal">logger_setLevel INFO</code></td></tr><tr><td>logger_setThreadName</td><td>set the current thread name for the %t pattern option</td><td><code class="literal">logger_setThreadName "myThread"</code></td></tr></tbody></table></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="functions-appenders"></a>5.2.&nbsp;Appenders</h3></div></div></div><div class="table"><a name="N10363"></a><p class="title"><b>Table&nbsp;7.&nbsp;Configuring appenders</b></p><table summary="Configuring appenders" border="1"><colgroup><col><col><col></colgroup><thead><tr><th>Function</th><th>Definition</th><th>Example</th></tr></thead><tbody><tr><td>appender_close</td><td>close an appender</td><td><code class="literal">appender_close myAppender</code></td></tr><tr><td>appender_setAppenderFile</td><td>set the output filename for the named appender</td><td><code class="literal">appender_setAppenderFile myAppender "output.log"</code></td></tr><tr><td>appender_setAppenderType</td><td>set the type of appender for the named appender</td><td><code class="literal">appender_setAppenderType myAppender FileAppender</code></td></tr><tr><td>appender_getLayout</td><td>get an appender's layout type</td><td><code class="literal">layout=`appender_getLayout myAppender`</code></td></tr><tr><td>appender_setLayout</td><td>set the layout type for the named appender</td><td><code class="literal">appender_setLayout myAppender PatternLayout</code></td></tr><tr><td>appender_getLevel</td><td>get an appender's logging priority</td><td><code class="literal">level=`appender_getLevel myAppender`</code></td></tr><tr><td>appender_setLevel</td><td>set the logging priority for the named appender</td><td><code class="literal">appender_setLevel myAppender DEBUG</code></td></tr><tr><td>appender_setPattern</td><td>set the output pattern for named appender (appender must be set to a PatternLayout)</td><td><code class="literal">appender_setPattern myAppender '%d %p - %m%n'</code></td></tr></tbody></table></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="functions-logging"></a>5.3.&nbsp;Logging</h3></div></div></div><div class="table"><a name="N103BD"></a><p class="title"><b>Table&nbsp;8.&nbsp;Logging statements</b></p><table summary="Logging statements" border="1"><colgroup><col><col><col></colgroup><thead><tr><th>Function</th><th>Definition</th><th>Example</th></tr></thead><tbody><tr><td>log</td><td>log a message at a specific level</td><td><code class="literal">log DEBUG "Hello, world"</code></td></tr><tr><td>logger_debug</td><td>log a message at the DEBUG level</td><td><code class="literal">logger_debug "This is a test"</code></td></tr><tr><td>logger_info</td><td>log a message at the INFO level</td><td><code class="literal">logger_info "Did you get it?"</code></td></tr><tr><td>logger_error</td><td>log a message at the ERROR level</td><td><code class="literal">logger_error "I sure hope you did"</code></td></tr><tr><td>logger_warn</td><td>log a message at the WARN level</td><td><code class="literal">logger_warn "If not, you might be in trouble"</code></td></tr><tr><td>logger_fatal</td><td>log a message at the FATAL level</td><td><code class="literal">logger_fatal "The end of the world is here!!!"</code></td></tr></tbody></table></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="misc_info"></a>6.&nbsp;Miscellaneous Info</h2></div></div></div><p>Log4sh has been completly developed from scratch by myself, Kate Ward.  I use it in production environments where logging from shell scripts is critical, and where I need more than just a simple "Hello, I worked" type of logging message.  If you like what you see, or have any suggestions on improvements, please feel free to drop me an email at <code class="email">&lt;<a href="mailto:kate.ward@forestent.com">kate.ward@forestent.com</a>&gt;</code>.  If there is enough interest in the project, I will develop it further.</p><p>Log4sh is licensed under the GNU Lesser Public License.  The contents and copyright of this site and all provided source code are owned by Kate Ward.</p></div></div></body></html>